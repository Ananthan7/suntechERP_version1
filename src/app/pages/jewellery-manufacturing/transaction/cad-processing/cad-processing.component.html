<!-- header section starts -->
<div class="card-content border-bottom d-flex justify-content-between p-2">
    <h5 class="pos-modaltitle" id="modal-dia-metal">CAD/Sketch Process</h5>
    <button type="button" class="btn btn-close close-btn" (click)="close()">
        <i class="feather icon-x close-icon"></i>
    </button>
</div>
<!-- modal header component -->
<modal-header (saveClick)="formSubmit()" (cancelClick)="close()" (auditTrailClick)="auditTrailClick()" [isViewAuditTrail]="true" [isViewPost]="true"
[isViewAttachment]="!viewMode" (attachmentClick)="attachmentClicked()"
></modal-header>

<!-- component to upload attachment -->
<attachment-upload (uploadSubmit)="uploadSubmited($event)" [savedAttachment]="savedAttachments"></attachment-upload>

<!-- content section -->
<div class="row">
    <div>
        <form [formGroup]="cadProcessingForm">
            <div class="container-fluid pt-3">
                <div class="row">
                    <div class="col-md-6">

                    </div>
                    <div class="col-md-6 px-5 text-right">
                        <h5 id="ID001">Approval Pending</h5>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <div class="row mb-1 ">
                            <label for="inputPassword"
                                class="col-sm-6 col-form-label" id="ID002">Voucher Type * :
                            </label>
                            <div class="col-md-3 mt-2">
                                <div class="position-relative d-flex">
                                    <mat-form-field style="width: 100%;" appearance="outline">
                                        <input type="text" matInput
                                            formControlName="voctype"
                                            [readonly]="viewMode" />
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-3 mt-2">
                                <div class="position-relative d-flex">
                                    <mat-form-field style="width: 100%;" appearance="outline">
                                        <input class="text-right" type="number"
                                            matInput formControlName="vocNo"
                                            [readonly]="viewMode" />
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-1">
                            <label for="inputPassword"
                                class="col-sm-6 col-form-label" id="ID003">Voucher Date :
                            </label>
                            <div class="col-sm-6 mt-2">
                                <mat-form-field style="width: -webkit-fill-available;" appearance="outline">
                                    <input matInput [matDatepicker]="vocDate"
                                        formControlName="vocDate"
                                        placeholder="DD/MM/YYYY"
                                        DateValidation />
                                    <mat-datepicker-toggle matSuffix
                                        [for]="vocDate"></mat-datepicker-toggle>
                                    <mat-datepicker [startAt]="currentDate"
                                        #vocDate></mat-datepicker>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-1">
                            <label for="inputPassword"
                                class="col-sm-6 col-form-label" id="ID004">Process * :
                            </label>
                            <div class="col-sm-6 mt-2">
                                <mat-form-field style="width: -webkit-fill-available;" appearance="outline">
                                    <input type="text" matInput
                                        formControlName="process"
                                        [readonly]="viewMode"
                                        (keydown)="lookupKeyPress($event,'process')"   
                                        (focusout)="validateLookupField($event,processCodeData,'process')"/>
                                        <master-search class="masterSearch"
                                        [MasterSearchData]="processCodeData"
                                        *ngIf="!viewMode" #overlayprocesscode
                                        (newRowClick)="processSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-1">
                            <label for="inputPassword"
                                class="col-sm-6 col-form-label" id="ID005">Worker * :
                            </label>
                            <div class="col-sm-6 mt-2">
                                <mat-form-field style="width: -webkit-fill-available;" appearance="outline">
                                    <input type="text" matInput
                                        formControlName="worker"
                                        [readonly]="viewMode"
                                        (keydown)="lookupKeyPress($event,'worker')"   
                                        (focusout)="validateLookupField($event,workerCodeData,'worker')"/>
                                        <master-search class="masterSearch"
                                        [MasterSearchData]="workerCodeData"
                                        *ngIf="!viewMode" #overlayworkercode
                                        (newRowClick)="workedSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-1">
                            <label for="inputPassword"
                                class="col-sm-6 col-form-label" id="ID006">Narration :
                            </label>
                            <div class="col-sm-6 mt-2">
                                <mat-form-field style="width: 100%;" appearance="outline">
                                    <input type="text" matInput
                                        formControlName="narration"
                                        [readonly]="viewMode" />
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="row mb-1">
                            <label for="inputPassword" id="ID007"
                                class="col-sm-5 col-form-label ">So Number :
                            </label>
                            <div class="col-sm-6 mt-2">
                                <mat-form-field style="width: 100%;" appearance="outline">
                                    <input type="text" matInput
                                        formControlName="soNumber"
                                        [readonly]="viewMode" />
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-1">
                            <label for="inputPassword" id="ID008"
                                class="col-sm-5 col-form-label ">Design * :
                            </label>

                            <div class="col-sm-6 mt-2">
                                <mat-form-field style="width: 100%;" appearance="outline">
                                    <input type="text" matInput
                                        formControlName="design"
                                        [readonly]="viewMode" />
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-1">
                            <label for="inputPassword"
                                class="col-sm-5 col-form-label " id="ID009">Completed :
                            </label>
                            <div class="col-sm-6 mt-2">
                                <mat-form-field style="width: 100%;" appearance="outline">
                                    <input matInput [matDatepicker]="completed"
                                        formControlName="completed"
                                        [readonly]="viewMode"
                                        placeholder="DD/MM/YYYY"
                                        DateValidation />
                                    <mat-datepicker-toggle matSuffix
                                        [for]="completed"></mat-datepicker-toggle>
                                    <mat-datepicker [startAt]="currentDate"
                                        #completed></mat-datepicker>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-1">
                            <label for="inputPassword" id="ID010"
                                class="col-sm-5 col-form-label ">To Worker * :
                            </label>
                            <div class="col-sm-6 mt-2">
                                <mat-form-field style="width: -webkit-fill-available;" appearance="outline">
                                    <input type="text" matInput
                                        formControlName="toWorker"
                                        [readonly]="viewMode"
                                        (keydown)="lookupKeyPress($event,'toWorker')"   
                                        (focusout)="validateLookupField($event,workerCodeData,'toWorker')"/>
                                        <master-search class="masterSearch"
                                        [MasterSearchData]="workerCodeData"
                                        *ngIf="!viewMode" #overlaytoworkercode
                                        (newRowClick)="toWorkedSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-1">
                            <label for="inputPassword" id="ID011"
                                class="col-sm-5 col-form-label ">To Process * :
                            </label>
                            <div class="col-sm-6 mt-2">
                                <mat-form-field style="width: -webkit-fill-available;" appearance="outline">
                                    <input type="text" matInput
                                        formControlName="toProcess"
                                        [readonly]="viewMode"
                                        (keydown)="lookupKeyPress($event,'toProcess')"  
                                        (focusout)="validateLookupField($event,toprocessCodeData,'toProcess')"/>
                                        <master-search class="masterSearch"
                                        [MasterSearchData]="toprocessCodeData"
                                        *ngIf="!viewMode" #overlaytoProcesscode
                                        (newRowClick)="toProcessSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="row mb-1">
                            <label for="inputPassword"
                                class="col-sm-6 col-form-label" id="ID012">Job : </label>
                            <div class="col-sm-6">
                                <mat-form-field style="width: 100%;" appearance="outline">
                                    <input type="text" matInput
                                        formControlName="job"
                                        [readonly]="viewMode" />
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-1">
                            <label for="inputPassword"
                                class="col-sm-6 col-form-label" id="ID013">Sub Job Id :
                            </label>
                            <div class="col-sm-6">
                                <mat-form-field style="width: 100%;" appearance="outline">
                                    <input type="number" matInput
                                        formControlName="subJobId"
                                        style="text-align: right;" />
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-1">
                            <label for="inputPassword"
                                class="col-sm-6 col-form-label" id="ID014">Time Taken :
                            </label>
                            <div class="col-sm-6">
                                <mat-form-field style="width: 100%;" appearance="outline">
                                    <input type="time" matInput
                                        formControlName="timeTaken"
                                        [readonly]="viewMode"
                                        step="2" />
                                </mat-form-field>
                                <!-- <app-duration-picker [content]="maxContent"
                                        [durationToSplit]="maxTime"
                                        [viewMode]="viewMode"
                                        (updateDuration)="updateMaximumTime($event)"
                                        formControlName="timeTaken"
                                        [disabled]="viewMode || codeEnable"></app-duration-picker> -->
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="icons">
                            <div class="image_box">
                                <img src={{urls}}
                                    style="width:324px;height:151px">
                            </div>
                            <div class="icons_footer">
                                <i class="fas fa-step-backward icon-common"></i>
                                <i class="fas fa-caret-right icon-common"></i>
                                <span>0/10</span>
                                <i class="fas fa-caret-right icon-common"></i>
                                <i class="fas fa-step-forward"></i>
                                <i class="fas fa-plus icon-common"></i>
                            </div>
                        </div>
                        <div class="p-2 bd-highlight">
                            <div class="upload-btn-wrapper">
                                <button class="btn btnnew bgColourUpdate" id="ID015"> Image</button>
                                <input type="file" name="uploadproduct"
                                    accept=".png, .jpg, .jpeg" #fileInput
                                    class="uploadproduct"
                                    (change)="onFileChanged($event)">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-3 d-flex mb-2">
                        <menu-buttons [viewAddBtn]="true" [viewDeleteBtn]="true"
                            [viewImportBtn]="false"
                            (addClick)="selectedTabIndex == 0 ? adddata():adddatas();"
                            (deleteClick)="selectedTabIndex == 0 ? removedata():removedatas()">
                        </menu-buttons>
                    </div>
                    <div class="col-md-12">
                        <mat-tab-group [(selectedIndex)]="selectedTabIndex">
                            <mat-tab label="Components" id="get">
                                <div class="row pt-2">
                                    <div class="col-md-12">
                                        <dx-data-grid id="gridContainer"
                                            [dataSource]="tableData"
                                            [showBorders]="true"
                                            [showColumnLines]="true"
                                            [allowColumnResizing]="true"
                                            [showRowLines]="true" class="mt-3">
                                            <dxo-editing mode="cell"
                                                [allowUpdating]="!viewMode">
                                            </dxo-editing>
                                            <dxi-column dataField="Srno"
                                                caption="Srno"> </dxi-column>
                                            <dxi-column dataField="Division"
                                                caption="Division"
                                                cellTemplate="divisiontemp"
                                                [allowEditing]="false"
                                                alignment="left"></dxi-column>
                                            <dxi-column dataField="StoneType"
                                                caption="Stone Type"
                                                cellTemplate="stonetypetemp"
                                                [allowEditing]="false"
                                                alignment="left"></dxi-column>
                                            <!-- stonetype search starts -->
                                            <div
                                                *dxTemplate="let data of 'divisiontemp'">
                                                <div
                                                    (mouseenter)="onHoverstoneType(data)"
                                                    class="d-flex justify-content-between">
                                                    <div>
                                                        <a
                                                            href="javascript:void(0)"
                                                            class="mx-1"
                                                            [innerHTML]="data.value"
                                                            (keypress)="lookupKeyPress($event)"></a>
                                                    </div>
                                                    <master-search
                                                        *ngIf="!viewMode"
                                                        [MasterSearchData]="divisionMaster"
                                                        (newRowClick)="DivisionSelected($event,data)">
                                                    </master-search>
                                                </div>
                                            </div>

                                            <div
                                                *dxTemplate="let data of 'stonetypetemp'">
                                                <div
                                                    (mouseenter)="onHoverstoneType(data)"
                                                    class="d-flex justify-content-between">
                                                    <div>
                                                        <a
                                                            href="javascript:void(0)"
                                                            class="mx-1"
                                                            [innerHTML]="data.value"
                                                            (keypress)="lookupKeyPress($event)"></a>
                                                    </div>
                                                    <master-search
                                                        *ngIf="!viewMode"
                                                        [MasterSearchData]="generalMaster"
                                                        (newRowClick)="stoneTypeSelected($event,data)">
                                                    </master-search>
                                                </div>
                                            </div>
                                            <dxi-column dataField="StockCode"
                                                caption="Stock Code"
                                                cellTemplate="stockcodetemp"
                                                [allowEditing]="false"
                                                alignment="left"></dxi-column>
                                            <!-- stock code Select search starts -->
                                            <div
                                                *dxTemplate="let data of 'stockcodetemp'">
                                                <div
                                                    (mouseenter)="onHoverStockCode(data)"
                                                    class="d-flex justify-content-between">
                                                    <div>
                                                        <a
                                                            href="javascript:void(0)"
                                                            class="mx-1"
                                                            [innerHTML]="data.value"
                                                            (keypress)="lookupKeyPress($event)"></a>
                                                    </div>
                                                    <master-search
                                                        *ngIf="!viewMode"
                                                        [MasterSearchData]="stockCode"
                                                        (newRowClick)="stockCodeSelected($event,data)">
                                                    </master-search>
                                                </div>
                                            </div>
                                            <dxi-column dataField="Karat"
                                                caption="Karat"
                                                cellTemplate="karattemp"
                                                [allowEditing]="false"
                                                alignment="left"></dxi-column>
                                            <!-- stock code Select search starts -->
                                            <div
                                                *dxTemplate="let data of 'karattemp'">
                                                <div
                                                    (mouseenter)="onHoverKaratCode(data)"
                                                    class="d-flex justify-content-between">
                                                    <div>
                                                        <a
                                                            href="javascript:void(0)"
                                                            class="mx-1"
                                                            [innerHTML]="data.value"
                                                            (keypress)="lookupKeyPress($event)"></a>
                                                    </div>
                                                    <master-search
                                                        *ngIf="!viewMode"
                                                        [MasterSearchData]="karatCodeData"
                                                        (newRowClick)="karatCodeSelected($event,data)">
                                                    </master-search>
                                                </div>
                                            </div>
                                            <dxi-column dataField="Color"
                                                caption="Color"
                                                cellTemplate="colortemp"
                                                [allowEditing]="false"
                                                alignment="left"></dxi-column>
                                            <!-- color Select search starts -->
                                            <div
                                                *dxTemplate="let data of 'colortemp'">
                                                <div
                                                    (mouseenter)="onHoverColorCode(data)"
                                                    class="d-flex justify-content-between">
                                                    <div>
                                                        <a
                                                            href="javascript:void(0)"
                                                            class="mx-1"
                                                            [innerHTML]="data.value"
                                                            (keypress)="lookupKeyPress($event)"></a>
                                                    </div>
                                                    <master-search
                                                        *ngIf="!viewMode"
                                                        [MasterSearchData]="generalMaster"
                                                        (newRowClick)="colorCodeSelected($event,data)">
                                                    </master-search>
                                                </div>
                                            </div>
                                            <dxi-column dataField="Shape"
                                                caption="Shape"
                                                cellTemplate="shapetemp"
                                                [allowEditing]="false"
                                                alignment="left"></dxi-column>
                                            <!-- shape Select search starts -->
                                            <div
                                                *dxTemplate="let data of 'shapetemp'">
                                                <div
                                                    (mouseenter)="onHoverShape(data)"
                                                    class="d-flex justify-content-between">
                                                    <div>
                                                        <a
                                                            href="javascript:void(0)"
                                                            class="mx-1"
                                                            [innerHTML]="data.value"
                                                            (keypress)="lookupKeyPress($event)"></a>
                                                    </div>
                                                    <master-search
                                                        *ngIf="!viewMode"
                                                        [MasterSearchData]="generalMaster"
                                                        (newRowClick)="shapeSelected($event,data)">
                                                    </master-search>
                                                </div>
                                            </div>
                                            <dxi-column dataField="Sieve"
                                                caption="Sieve"
                                                cellTemplate="sievetemp"
                                                [allowEditing]="false"
                                                alignment="left"></dxi-column>
                                            <!-- sieve Select search starts -->
                                            <div
                                                *dxTemplate="let data of 'sievetemp'">
                                                <div
                                                    (mouseenter)="onHoverSieve(data)"
                                                    class="d-flex justify-content-between">
                                                    <div>
                                                        <a
                                                            href="javascript:void(0)"
                                                            class="mx-1"
                                                            [innerHTML]="data.value"
                                                            (keypress)="lookupKeyPress($event)"></a>
                                                    </div>
                                                    <master-search
                                                        *ngIf="!viewMode"
                                                        [MasterSearchData]="generalMaster"
                                                        (newRowClick)="sieveSelected($event,data)">
                                                    </master-search>
                                                </div>
                                            </div>
                                            <dxi-column dataField="Size"
                                                caption="Size"></dxi-column>
                                            <dxi-column dataField="Pcs"
                                                caption="Pcs"></dxi-column>
                                            <dxi-column dataField="WtCt"
                                                caption="Wt/Ct"></dxi-column>
                                            <dxi-column dataField="SettingType"
                                                caption="Setting Type"></dxi-column>
                                            <dxi-column dataField="PointerWt"
                                                caption="Pointer Wt"></dxi-column>
                                            <dxi-column dataField="Remarks"
                                                caption="Remarks"></dxi-column>
                                            <!-- <dxi-column dataField="Srno" caption="Srno"> </dxi-column>
                                          <dxi-column dataField="Division" caption="Division" cellTemplate="divisiontemp"></dxi-column>
                                          <dxi-column dataField="StoneType" caption="Stone Type" cellTemplate="stonetypetemp"></dxi-column>
                                          <dxi-column dataField="StockCode" caption="Stock Code" cellTemplate="stockcodetemp"></dxi-column>
                                          <dxi-column dataField="Karat" caption="Karat" cellTemplate="karattemp"></dxi-column>
                                          <dxi-column dataField="Color" caption="Color" cellTemplate="colortemp"></dxi-column>
                                          <dxi-column dataField="Shape" caption="Shape" cellTemplate="shapetemp"></dxi-column>
                                          <dxi-column dataField="Sieve" caption="Sieve" cellTemplate="sievetemp"></dxi-column>
                                          <dxi-column dataField="Size" caption="Size" cellTemplate="sizetemp"></dxi-column>
                                          <dxi-column dataField="Pcs" caption="Pcs" cellTemplate="Pcstemp"></dxi-column>
                                          <dxi-column dataField="WtCt" caption="Wt/Ct" cellTemplate="wtcttemp"></dxi-column>
                                          <dxi-column dataField="SettingType" caption="Setting Type" cellTemplate="settingtypetemp"></dxi-column>
                                          <dxi-column dataField="PointerWt" caption="Pointer Wt" cellTemplate="pointerwttemp"></dxi-column>
                                          <dxi-column dataField="Remarks" caption="Remarks" cellTemplate="remarkstemp"></dxi-column>
                                         <div *dxTemplate="let data of 'divisiontemp'">
                                            <input type="text" (change)="divisiontemp($event,data)" style="width: 100%;" />
                                          </div>
                      
                                        <div *dxTemplate="let data of 'stonetypetemp'">
                                          <input type="text" (change)="stonetypetemp($event,data)" style="width: 100%;" />
                                        </div>

                                        <div *dxTemplate="let data of 'stockcodetemp'">
                                            <input type="text" (change)="stockcodetemp($event,data)" style="width: 100%;" />
                                          </div>

                                          <div *dxTemplate="let data of 'karattemp'">
                                            <input type="text" (change)="karattemp($event,data)" style="width: 100%;" />
                                          </div>

                                          <div *dxTemplate="let data of 'colortemp'">
                                            <input type="text" (change)="colortemp($event,data)" style="width: 100%;"  />
                                          </div>

                                          <div *dxTemplate="let data of 'shapetemp'">
                                            <input type="text" (change)="shapetemp($event,data)" style="width: 100%;" />
                                          </div>

                                          <div *dxTemplate="let data of 'sievetemp'">
                                            <input type="text" (change)="sievetemp($event,data)" style="width: 100%;" />
                                          </div>

                                          <div *dxTemplate="let data of 'sizetemp'">
                                            <input type="text" (change)="sizetemp($event,data)" style="width: 100%;" />
                                          </div>

                                          <div *dxTemplate="let data of 'Pcstemp'">
                                            <input type="text" (change)="Pcstemp($event,data)" style="width: 100%;" />
                                          </div>

                                          <div *dxTemplate="let data of 'wtcttemp'">
                                            <input type="text" (change)="wtcttemp($event,data)" style="width: 100%;" />
                                          </div>

                                          <div *dxTemplate="let data of 'settingtypetemp'">
                                            <input type="text" (change)="settingtypetemp($event,data)" style="width: 100%;" />
                                          </div>

                                          <div *dxTemplate="let data of 'pointerwttemp'">
                                            <input type="text" (change)="pointerwttemp($event,data)" style="width: 100%;" />
                                          </div>

                                          <div *dxTemplate="let data of 'remarkstemp'">
                                            <input type="text" (change)="remarkstemp($event,data)" style="width: 100%;" />
                                          </div> -->

                                        </dx-data-grid>
                                    </div>
                                </div>
                            </mat-tab>
                            <mat-tab label="Components Set">
                                <div class="row">
                                    <div class="col-md-12">
                                        <dx-resizable id="gridContainer"
                                            [width]="firstTableWidth"
                                            [height]="280"
                                            [keepAspectRatio]="false"
                                            handles="right">
                                            <dx-data-grid width="auto" #dataGrid
                                                id="gridContainer"
                                                [dataSource]="tableDatas"
                                                [showBorders]="true"
                                                [showColumnLines]="true"
                                                height="300"
                                                [showRowLines]="true"
                                                [allowColumnResizing]="true"
                                                class="mt-3">
                                                <dxo-editing mode="cell"
                                                    [allowUpdating]="!viewMode">
                                                </dxo-editing>
                                                <dxo-paging
                                                    [enabled]="false"></dxo-paging>
                                                <dxo-scrolling
                                                    mode="virtual"></dxo-scrolling>
                                                <dxo-selection
                                                    mode="single"></dxo-selection>
                                                <dxi-column dataField="Srno"
                                                    caption="Srno">
                                                </dxi-column>
                                                <dxi-column dataField="CompCode"
                                                    caption="Comp Code">
                                                </dxi-column>
                                                <dxi-column
                                                    dataField="Description"
                                                    caption="Description"></dxi-column>
                                                <dxi-column width="auto"
                                                    [allowEditing]="true"
                                                    dataField="PCS"
                                                    caption="Pcs"
                                                    alignment="right">
                                                </dxi-column>
                                                <dxi-column dataField="SizeSet"
                                                    caption="Size Set"></dxi-column>
                                                <dxi-column dataField="SizeCode"
                                                    caption="Size Code"></dxi-column>
                                                <dxi-column dataField="Type"
                                                    caption="Type"></dxi-column>
                                                <dxi-column dataField="Category"
                                                    caption="Category"
                                                    cellTemplate="categorytemp"
                                                    [allowEditing]="false"
                                                    alignment="left"></dxi-column>

                                                <dxo-summary>
                                                    <dxi-total-item
                                                        displayFormat="{0}"
                                                        column="PCS"
                                                        summaryType="sum">
                                                    </dxi-total-item>

                                                </dxo-summary>

                                                <!-- Category Select search starts -->
                                                <div
                                                    *dxTemplate="let data of 'categorytemp'">
                                                    <div
                                                        (mouseenter)="onHoverCategory(data)"
                                                        class="d-flex justify-content-between">
                                                        <div>
                                                            <a
                                                                href="javascript:void(0)"
                                                                class="mx-1"
                                                                [innerHTML]="data.value"
                                                                (keypress)="lookupKeyPress($event)"></a>
                                                        </div>
                                                        <master-search
                                                            *ngIf="!viewMode"
                                                            [MasterSearchData]="generalMaster"
                                                            (newRowClick)="categortySelected($event,data)">
                                                        </master-search>
                                                    </div>
                                                </div>
                                                <dxi-column dataField="Shape"
                                                    caption="Shape"
                                                    cellTemplate="shapetemp"
                                                    [allowEditing]="false"
                                                    alignment="left"></dxi-column>
                                                <div
                                                    *dxTemplate="let data of 'shapetemp'">
                                                    <div
                                                        (mouseenter)="onHoverShape(data)"
                                                        class="d-flex justify-content-between">
                                                        <div>
                                                            <a
                                                                href="javascript:void(0)"
                                                                class="mx-1"
                                                                [innerHTML]="data.value"
                                                                (keypress)="lookupKeyPress($event)"></a>
                                                        </div>
                                                        <master-search
                                                            *ngIf="!viewMode"
                                                            [MasterSearchData]="generalMaster"
                                                            (newRowClick)="shapeSelected1($event,data)">
                                                        </master-search>
                                                    </div>
                                                </div>
                                                <dxi-column dataField="Height"
                                                    caption="Height"></dxi-column>
                                                <dxi-column dataField="Width"
                                                    caption="Width"></dxi-column>
                                                <dxi-column dataField="Length"
                                                    caption="Length"></dxi-column>
                                                <dxi-column dataField="Radius"
                                                    caption="Radius"></dxi-column>
                                                <dxi-column dataField="Remarks"
                                                    caption="Remarks"></dxi-column>
                                                <!-- <dxi-column dataField="Srno" caption="Srno"> </dxi-column>
                                          <dxi-column dataField="CompCode" caption="Comp Code" cellTemplate="compcodetemp"> </dxi-column>
                                          <dxi-column dataField="Description" caption="Description" cellTemplate="descriptiontemp"></dxi-column>
                                          <dxi-column dataField="Pcs" caption="Pcs" cellTemplate="Pcs2temp"></dxi-column>
                                          <dxi-column dataField="SizeSet" caption="Size Set" cellTemplate="sizesettemp"></dxi-column>
                                          <dxi-column dataField="SizeCode" caption="Size Code" cellTemplate="sizecodetemp"></dxi-column>
                                          <dxi-column dataField="Type" caption="Type" cellTemplate="typetemp"></dxi-column>
                                          <dxi-column dataField="Category" caption="Category" cellTemplate="categorytemp"></dxi-column>
                                          <dxi-column dataField="Shape" caption="Shape" cellTemplate="shape2temp"></dxi-column>
                                          <dxi-column dataField="Height" caption="Height" cellTemplate="heighttemp"></dxi-column>
                                          <dxi-column dataField="Width" caption="Width" cellTemplate="widthtemp"></dxi-column>
                                          <dxi-column dataField="Length" caption="Length" cellTemplate="lengthtemp"></dxi-column>
                                          <dxi-column dataField="Radius" caption="Radius" cellTemplate="radiustemp"></dxi-column>
                                          <dxi-column dataField="Remarks" caption="Remarks" cellTemplate="remarks2temp"></dxi-column> 
                                    
                                          <div *dxTemplate="let data2 of 'compcodetemp'">
                                            <input type="text" (change)="compcodetemp($event,data2)" style="width: 100%;" />
                                          </div>
                                        <div *dxTemplate="let data2 of 'descriptiontemp'">
                                          <input type="text" (change)="descriptiontemp($event,data2)" style="width: 100%;" />
                                        </div>
                                        <div *dxTemplate="let data2 of 'Pcs2temp'">
                                            <input type="text" (change)="Pcs2temp($event,data2)" style="width: 100%;" />
                                          </div>
                                          <div *dxTemplate="let data2 of 'sizesettemp'">
                                            <input type="text" (change)="sizesettemp($event,data2)" style="width: 100%;" />
                                          </div>
                                          <div *dxTemplate="let data2 of 'sizecodetemp'">
                                            <input type="text" (change)="sizecodetemp($event,data2)" style="width: 100%;" />
                                          </div>

                                          <div *dxTemplate="let data2 of 'typetemp'">
                                            <input type="text" (change)="typetemp($event,data2)" style="width: 100%;" />
                                          </div>
                                          <div *dxTemplate="let data2 of 'categorytemp'">
                                            <input type="text" (change)="categorytemp($event,data2)" style="width: 100%;" />
                                          </div>
                                          <div *dxTemplate="let data2 of 'shape2temp'">
                                            <input type="text" (change)="shape2temp($event,data2)" style="width: 100%;" />
                                          </div>
                                          <div *dxTemplate="let data2 of 'heighttemp'">
                                            <input type="text" (change)="heighttemp($event,data2)" style="width: 100%;" />
                                          </div>
                                          <div *dxTemplate="let data2 of 'widthtemp'">
                                            <input type="text" (change)="widthtemp($event,data2)" style="width: 100%;" />
                                          </div>
                                          <div *dxTemplate="let data2 of 'lengthtemp'">
                                            <input type="text" (change)="lengthtemp($event,data2)" style="width: 100%;" />
                                          </div>
                                          <div *dxTemplate="let data2 of 'radiustemp'">
                                            <input type="text" (change)="radiustemp($event,data2)" style="width: 100%;" />
                                          </div>
                                          <div *dxTemplate="let data2 of 'remarks2temp'">
                                            <input type="text" (change)="remarks2temp($event,data2)" style="width: 100%;" />
                                          </div> -->
                                            </dx-data-grid>
                                        </dx-resizable>
                                    </div>
                                </div>
                            </mat-tab>
                            <mat-tab label="Approval  Details">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <div class="row p-2">
                                                <div class="col-md-4">
                                                    <div class="row">
                                                        <div
                                                            class="p-1 bd-highlight">
                                                            <button id="ID016"
                                                                type="button"
                                                                class="btn btn-primary add-btn bgColourUpdate">
                                                                Approved
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <label for="inputPassword" id="ID017"
                                                            class="col-sm-4 col-form-label ">User ID: </label>
                                                        <div class="col-sm-8 mt-2">
                                                            <mat-form-field appearance="outline"
                                                                style="width: 100%;">
                                                                <input
                                                                    type="text"
                                                                    matInput
                                                                    formControlName="userId" />
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <label for="inputPassword" id="ID018"
                                                            class="col-sm-4 col-form-label ">Date: </label>
                                                        <div class="col-sm-8 mt-2">
                                                            <mat-form-field appearance="outline"
                                                                style="width: 100%;">
                                                                <input matInput
                                                                    [matDatepicker]="date"
                                                                    formControlName="date"
                                                                    placeholder="DD/MM/YYYY"
                                                                    DateValidation />
                                                                <mat-datepicker-toggle
                                                                    matSuffix
                                                                    [for]="date"></mat-datepicker-toggle>
                                                                <mat-datepicker
                                                                    [startAt]="currentDate"
                                                                    #date></mat-datepicker>
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <label for="inputPassword" id="ID019"
                                                            class="col-sm-4 col-form-label ">Copy: </label>
                                                        <div class="col-sm-8 mt-2">
                                                            <mat-form-field appearance="outline"
                                                                style="width: 100%;">
                                                                <input
                                                                    type="text"
                                                                    matInput
                                                                    formControlName="copy" />
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <label for="inputPassword" id="ID020"
                                                            class="col-sm-4 col-form-label ">Type: </label>
                                                        <div class="col-sm-8 mt-2">
                                                            <mat-form-field appearance="outline"
                                                                style="width: 100%;">
                                                                <input
                                                                    type="number"
                                                                    matInput
                                                                    formControlName="type"
                                                                    style="text-align: right;" />
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-8">
                                                    <div class="row">
                                                        <div
                                                            class="p-1 bd-highlight">
                                                            <button id="ID021"
                                                                type="button"
                                                                class="btn btn-primary add-btn bgColourUpdate">
                                                                Rejected
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <label id="ID022" for="inputPassword"
                                                            class="col-sm-3 col-form-label ">Reason: </label>
                                                        <div class="col-sm-9 mt-2">
                                                            <mat-form-field appearance="outline"
                                                                style="width: 100%;">
                                                                <input
                                                                    type="text"
                                                                    matInput
                                                                    formControlName="reason" />
                                                            </mat-form-field>
                                                            <!-- <master-search></master-search> -->
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <label for="inputPassword" id="ID023"
                                                            class="col-sm-3 col-form-label ">Remarks: </label>
                                                        <div class="col-sm-9 mt-2">
                                                            <mat-form-field appearance="outline"
                                                                style="width: 100%;">
                                                                <input
                                                                    type="text"
                                                                    matInput
                                                                    formControlName="remarks" />
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div
                                                            class="col-sm-3 bd-highlight mt-2">
                                                            <button id="ID024"
                                                                type="button"
                                                                class="btn btn-primary add-btn mt-1 bgColourUpdate"
                                                                (click)="openFileExplorer()">
                                                                Attachments
                                                            </button>
                                                        </div>
                                                        <div class="col-sm-9 mt-2">
                                                            <mat-form-field appearance="outline"
                                                                style="width: 100%;">
                                                                <input type="text"  matInput
                                                                    formControlName="attachments" />
                                                            </mat-form-field>
                                                            <input type="file"
                                                                id="fileInput"
                                                                style="display: none"
                                                                (change)="handleFileInput($event)" />

                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <label for="inputPassword" id="ID025"
                                                            class="col-sm-3 col-form-label ">Delivery On: </label>
                                                        <div class="col-sm-3 mt-2">
                                                            <mat-form-field appearance="outline"
                                                                style="width: 100%;">
                                                                <input
                                                                    type="text"
                                                                    matInput
                                                                    formControlName="deliveryOn" />
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-sm-2 mt-2">
                                                            <mat-form-field appearance="outline"
                                                                style="width: 100%;">
                                                                <input
                                                                    type="number"
                                                                    matInput
                                                                    formControlName="deliveryOnDays"
                                                                    style="text-align: right;" />
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-sm-4 mt-2">
                                                            <mat-form-field appearance="outline"
                                                                style="width: 100%;">
                                                                <input
                                                                    [disabled]="true"
                                                                    matInput
                                                                    [matDatepicker]="deliveryOnDate"
                                                                    formControlName="deliveryOnDate"
                                                                    placeholder="DD/MM/YYYY"
                                                                    DateValidation />
                                                                <mat-datepicker-toggle
                                                                    matSuffix
                                                                    [for]="deliveryOnDate"></mat-datepicker-toggle>
                                                                <mat-datepicker
                                                                    [disabled]="true"
                                                                    [startAt]="currentDate"
                                                                    #deliveryOnDate></mat-datepicker>
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4 pt-2">
                                            <dx-data-grid #dataGrid
                                                id="gridContainer" keyExpr="ID"
                                                [showBorders]="true"
                                                [allowColumnResizing]="true">
                                                <dxo-paging
                                                    [enabled]="false"></dxo-paging>
                                                <dxo-editing mode="cell"
                                                    [allowUpdating]="true">
                                                </dxo-editing>
                                                <dxo-selection
                                                    mode="multiple"></dxo-selection>
                                                <dxo-scrolling
                                                    mode="virtual"></dxo-scrolling>
                                                <dxi-column
                                                    *ngFor="let data of columnheadItemDetails2"
                                                    dataField="{{ data }}"
                                                    caption="{{ data }}"
                                                    [allowEditing]="true"
                                                    alignment="center"
                                                    backgroundcolor="#000">
                                                </dxi-column>
                                            </dx-data-grid>
                                        </div>
                                    </div>
                                </div>
                            </mat-tab>
                        </mat-tab-group>
                    </div>
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-9">
                                <dx-data-grid #dataGrid id="gridContainer"
                                    keyExpr="ID" [allowColumnResizing]="true"
                                    [showBorders]="true">
                                    <dxo-paging [enabled]="false"></dxo-paging>
                                    <dxo-editing mode="cell"
                                        [allowUpdating]="true">
                                    </dxo-editing>
                                    <dxo-selection
                                        mode="multiple"></dxo-selection>
                                    <dxo-scrolling
                                        mode="virtual"></dxo-scrolling>
                                    <dxi-column
                                        *ngFor="let data of columnheadItemDetails3"
                                        dataField="{{ data }}"
                                        caption="{{ data }}"
                                        [allowEditing]="true" alignment="center"
                                        backgroundcolor="#000">
                                    </dxi-column>
                                </dx-data-grid>
                            </div>
                            <div class="col-md-3">
                                <dx-data-grid #dataGrid id="gridContainer"
                                    keyExpr="ID" [allowColumnResizing]="true"
                                    [showBorders]="true">
                                    <dxo-paging [enabled]="false"></dxo-paging>
                                    <dxo-editing mode="cell"
                                        [allowUpdating]="true">
                                    </dxo-editing>
                                    <dxo-selection
                                        mode="multiple"></dxo-selection>
                                    <dxo-scrolling
                                        mode="virtual"></dxo-scrolling>
                                    <dxi-column
                                        *ngFor="let data of columnheadItemDetails2"
                                        dataField="{{ data }}"
                                        caption="{{ data }}"
                                        [allowEditing]="true" alignment="center"
                                        backgroundcolor="#000">
                                    </dxi-column>
                                </dx-data-grid>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>