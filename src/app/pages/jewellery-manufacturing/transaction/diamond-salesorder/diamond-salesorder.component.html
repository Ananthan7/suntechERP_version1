<div class="pt-3">
    <div>
        <!-- header section starts -->
        <div class="border-bottom d-flex justify-content-between ps-2 pe-2">
            <h5 id="ID001">Diamond Sales Order</h5>
            <button type="button" class="btn btn-close close-btn"
                (click)="close()">
                <i class="feather icon-x close-icon"></i>
            </button>
        </div>
        <!-- modal header component -->
        <modal-header (saveClick)="formSubmit()" (cancelClick)="close()"
            (deleteClick)="deleteClicked()" [isViewAttachment]="!viewMode" (attachmentClick)="attachmentClicked()"></modal-header>
            <!-- component to upload attachment -->
            <attachment-upload (uploadSubmit)="uploadSubmited($event)" [savedAttachment]="savedAttachments"></attachment-upload>
    </div>
    <!-- content section -->
    <div class=" m-1 p-2">
        <mat-tab-group>
            <!-- Party Details section starts -->
            <mat-tab label="Party Details">
                <div style="width: 96%;" class="p-3">
                    <!-- Party Details form starts -->
                    <form [formGroup]="PartyDetailsOrderForm">
                        <div class="row">
                            <div class="col-sm-12 col-md-4 col-lg-4">
                                <div class="row">
                                    <label class="col-sm-4 col-form-label"
                                        id="ID002">
                                        Voucher Type*</label>
                                    <span class="col-sm-8 mt-2">
                                        <mat-form-field style="width: 35%;"
                                            class="mx-1" appearance="outline">
                                            <input type="text" matInput readonly
                                                formControlName="VOCTYPE" />
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"
                                            style="width: 49%;">
                                            <input type="number"
                                                matInput class="text-right"
                                                formControlName="VOCNO"
                                                [readonly]="LOCKVOUCHERNO" />
                                        </mat-form-field>
                                    </span>
                                </div>

                                <div class="row">
                                    <label class="col-sm-4 col-form-label"
                                        id="ID003">
                                        Voucher Date*</label>
                                    <span class="col-sm-8 mt-1">
                                        <mat-form-field
                                            style="width: min-content;"
                                            appearance="outline">
                                            <!-- <mat-label>Date Of Birth</mat-label> -->
                                            <input matInput DateValidation
                                                (dateChange)="formatDate($event)"
                                                [matDatepicker]="dob"
                                                formControlName="VOCDATE"
                                                placeholder="DD/MM/YYYY"
                                                [min]="minDate"
                                                [max]="maxDate" />
                                            <mat-datepicker-toggle matSuffix
                                                [for]="dob"></mat-datepicker-toggle>
                                            <mat-datepicker
                                                #dob></mat-datepicker>
                                        </mat-form-field>
                                    </span>
                                </div>

                                <div class="row">
                                    <label class="col-sm-4 col-form-label"
                                        id="ID004">Order Type*</label>
                                    <span class="col-sm-7 mt-1">
                                        <mat-form-field
                                            style="width: -webkit-fill-available;"
                                            appearance="outline">
                                            <input type="text" matInput readonly
                                                (change)="OrderTypeChange($event)"
                                                (keydown)="lookupKeyPress($event,'orderType')"
                                                formControlName="orderType"
                                                (focusout)="validateLookupField($event,OrderTypeData,'orderType')" />
                                            <master-search class="masterSearch"
                                                [MasterSearchData]="OrderTypeData"
                                                #overlayorderType
                                                (newRowClick)="OrderTypeSelected($event)">
                                            </master-search>
                                        </mat-form-field>
                                    </span>
                                </div>

                                <div class="row">
                                    <label class="col-sm-4 col-form-label"
                                        id="ID005">
                                        Party Code*</label>
                                    <span class="col-sm-7 mt-1">
                                        <mat-form-field
                                            style="width: -webkit-fill-available;"
                                            appearance="outline">
                                            <input type="text" matInput readonly
                                                (change)="PartyCodeChange($event)"
                                                (keydown)="lookupKeyPress($event,'PartyCode')"
                                                formControlName="PartyCode"
                                                (focusout)="validateLookupField($event,PartyCodeData,'PartyCode')" />
                                            <master-search class="masterSearch"
                                                [MasterSearchData]="PartyCodeData"
                                                #overlayPartyCode
                                                (newRowClick)="PartyCodeSelected($event)">
                                            </master-search>
                                        </mat-form-field>
                                    </span>
                                </div>

                                <div class="row">
                                    <label class="col-sm-4 col-form-label"
                                        id="ID006">
                                        Salesman</label>
                                    <span class="col-sm-7 mt-1">
                                        <mat-form-field
                                            style="width: -webkit-fill-available;"
                                            appearance="outline">
                                            <input type="text" matInput
                                                (change)="SalesmanChange($event)"
                                                readonly
                                                formControlName="SalesmanCode"
                                                (keydown)="lookupKeyPress($event,'SalesmanCode')"
                                                (focusout)="validateLookupField($event,SalesmanData,'SalesmanCode')" />
                                            <master-search class="masterSearch"
                                                [MasterSearchData]="SalesmanData"
                                                #overlaySalesmanCode
                                                (newRowClick)="SalesmanSelected($event)">
                                            </master-search>
                                        </mat-form-field>
                                    </span>
                                </div>

                                <div class="row" *ngIf="false">
                                    <label class="col-sm-4 col-form-label"
                                        id="ID007">
                                        Prosp Origin</label>
                                    <span class="col-sm-7 mt-1">
                                        <mat-form-field
                                            style="width: -webkit-fill-available;"
                                            appearance="outline">
                                            <input type="text" matInput
                                                (change)="SalesmanChange($event)"
                                                readonly
                                                formControlName="Salesman"
                                                (keydown)="lookupKeyPress($event,'Salesman')"
                                                (focusout)="validateLookupField($event,OrderTypeData,'Salesman')" />
                                            <master-search class="masterSearch"
                                                [MasterSearchData]="OrderTypeData"
                                                #overlaySalesman
                                                (newRowClick)="SalesmanSelected($event)">
                                            </master-search>
                                        </mat-form-field>
                                    </span>
                                </div>
                            </div>

                            <div class="col-sm-12 col-md-4 col-lg-4">
                                <div class="row">
                                    <section class="col-sm-4 example-section">
                                        <mat-checkbox
                                            formControlName="FixedMetal"
                                            class="example-margin"
                                            class="col-sm-4">
                                            <label
                                                style="font-size: 0.9em;padding-top: 8px;">
                                                <b id="ID008">Fixed
                                                    Metal</b></label>
                                        </mat-checkbox>
                                    </section>
                                    <span class="col-sm-8 mt-1">
                                        <mat-form-field style="width: 30%"
                                            appearance="outline" class="mx-1">
                                            <input type="text" matInput readonly
                                                formControlName="rateType" />
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"
                                            style="width: 50%;">
                                            <input type="text" matInput
                                                SixDecimalInput
                                                class="text-right"
                                                formControlName="wholeSaleRate"
                                                (keydown)="lookupKeyPress($event,'wholeSaleRate')"
                                                (focusout)="validateLookupField($event,rateTypeMasterData,'wholeSaleRate')" />
                                            <master-search class="masterSearch"
                                                [MasterSearchData]="rateTypeMasterData"
                                                #overlaywholeSaleRate
                                                (newRowClick)="rateTypeSelected($event)">
                                            </master-search>
                                        </mat-form-field>
                                    </span>
                                </div>

                                <div class="row">
                                    <label class="col-sm-4 col-form-label"
                                        id="ID009">
                                        Party Currency*</label>
                                    <span class="col-sm-8 mt-2">
                                        <mat-form-field style="width: 30%"
                                            appearance="outline" class="mx-1">
                                            <input type="text" matInput readonly
                                                formControlName="partyCurrencyType" />
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"
                                            style="width: 50%;">
                                            <input type="text" matInput readonly
                                                class="text-right"
                                                SixDecimalInput
                                                (keydown)="lookupKeyPress($event,'partyCurrencyRate')"
                                                (focusout)="partyCurrencyChange($event)"
                                                formControlName="partyCurrencyRate" />
                                            <master-search class="masterSearch"
                                                [MasterSearchData]="currencyMasterData"
                                                (newRowClick)="partyCurrencySelected($event)">
                                            </master-search>
                                        </mat-form-field>
                                    </span>
                                </div>

                                <div class="row">
                                    <label class="col-sm-4 col-form-label"
                                        id="ID010">
                                        Item Currency*</label>
                                    <span class="col-sm-8 mt-2">
                                        <mat-form-field style="width: 30%"
                                            appearance="outline" class="mx-1">
                                            <input type="text" matInput readonly
                                                formControlName="ItemCurrency" />
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"
                                            style="width: 50%;">
                                            <input type="number" matInput
                                                SixDecimalInput
                                                (keydown)="lookupKeyPress($event,'ItemCurrencyRate')"
                                                class="text-right"
                                                formControlName="ItemCurrencyRate" />
                                            <master-search class="masterSearch"
                                                [MasterSearchData]="currencyMasterData"
                                                (newRowClick)="itemCurrencySelected($event)">
                                            </master-search>
                                        </mat-form-field>
                                    </span>
                                </div>

                                <div class="row">
                                    <label class="col-sm-4 col-form-label"
                                        id="ID011">
                                        Delivery Type</label>
                                    <span class="col-sm-8 mt-2">
                                        <mat-form-field style="width: 30%"
                                            appearance="outline" class="mx-1">
                                            <input type="text" matInput
                                                maxlength="6"
                                                formControlName="DeliveryType"
                                                NumberOnly />
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"
                                            style="width: 50%;">
                                            <input type="text" matInput
                                                formControlName="DeliveryTypeDesc"
                                                (keydown)="lookupKeyPress($event,'DeliveryTypeDesc')"
                                                NumberOnly
                                                (focusout)="validateLookupField($event,deliveryTypeMaster,'DeliveryTypeDesc')" />
                                            <master-search class="masterSearch"
                                                [MasterSearchData]="deliveryTypeMaster"
                                                #overlayDeliveryTypeDesc
                                                (newRowClick)="deliveryTypeSelected($event)">
                                            </master-search>
                                        </mat-form-field>
                                    </span>
                                </div>

                                <div class="row">
                                    <label class="col-sm-4 col-form-label"
                                        id="ID012">
                                        Delivery On</label>
                                    <span class="col-sm-8 mt-2">
                                        <mat-form-field style="width: 30%"
                                            appearance="outline" class="mx-1">
                                            <input type="text" matInput
                                                maxlength="6" NumberOnly
                                                (focusout)="addDays()"
                                                formControlName="DeliveryOnDateType" />
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"
                                            style="width: 50%;">
                                            <input matInput DateValidation
                                                [matDatepicker]="DeliveryOn"
                                                formControlName="DeliveryOnDate"
                                                placeholder="DD/MM/YYYY"
                                                (dateChange)="dateDifference($event)" />
                                            <mat-datepicker-toggle matSuffix
                                                [for]="DeliveryOn"></mat-datepicker-toggle>
                                            <mat-datepicker
                                                #DeliveryOn></mat-datepicker>
                                        </mat-form-field>
                                    </span>
                                </div>

                                <div class="row" *ngIf="false">
                                    <label class="col-sm-4 col-form-label"
                                        id="ID013">
                                        AMC %</label>
                                    <span class="col-sm-8">
                                        <mat-form-field style="width: 20%"
                                            appearance="outline">
                                            <input type="text" matInput
                                                maxlength="6"
                                                formControlName="AMCPercentage" />
                                        </mat-form-field>
                                    </span>
                                </div>
                                <div class="row" *ngIf="false">
                                    <label class="col-sm-4 col-form-label"
                                        id="ID014">
                                        AMC Start Date</label>
                                    <span class="col-sm-8">
                                        <mat-form-field style="width: 20%"
                                            appearance="outline">
                                            <input type="text" matInput
                                                maxlength="6"
                                                formControlName="AMCSTARTDATE" />
                                        </mat-form-field>
                                    </span>
                                </div>
                            </div>

                            <div class="col-sm-12 col-md-4 col-lg-4 ">
                                <div class="col-12">
                                    <mat-card>
                                        <mat-card-content>
                                            <mat-tab-group>
                                                <mat-tab label="Bill To">
                                                    <div class="col-11">
                                                        <mat-form-field
                                                            appearance="outline"
                                                            style="width: 100%; margin-left: 7px;">
                                                            <input type="text"
                                                                matInput
                                                                formControlName="BillToAccountHead" />
                                                        </mat-form-field>
                                                        <textarea
                                                            style="width: 100%;height: 100px;
                                                             margin-left: 7px;margin-top: 7px;"
                                                            formControlName="BillToAddress">
                                                        </textarea>
                                                    </div>
                                                </mat-tab>
                                                <mat-tab label="U D F">
                                                    <div class="col-11">
                                                        <div class="row">
                                                            <label id="ID015"
                                                                class="col-sm-4 col-form-label">
                                                                Proposal</label>
                                                            <span
                                                                class="col-sm-7 mt-2">
                                                                <mat-form-field
                                                                    appearance="outline">
                                                                    <input
                                                                        type="text"
                                                                        matInput
                                                                        formControlName="Proposal" />
                                                                </mat-form-field>
                                                            </span>
                                                        </div>
                                                        <div class="row">
                                                            <label id="ID016"
                                                                class="col-sm-4 col-form-label">
                                                                Business Type</label>
                                                            <span
                                                                class="col-sm-7 mt-2">
                                                                <mat-form-field
                                                                    appearance="outline">
                                                                    <input
                                                                        type="text"
                                                                        matInput
                                                                        formControlName="BussinessType" />
                                                                </mat-form-field>
                                                            </span>
                                                        </div>
                                                        <div class="row">
                                                            <label id="ID017"
                                                                class="col-sm-4 col-form-label">
                                                                Language</label>
                                                            <span
                                                                class="col-sm-7 mt-2">
                                                                <mat-form-field
                                                                    appearance="outline">
                                                                    <input
                                                                        type="text"
                                                                        matInput
                                                                        formControlName="Language" />
                                                                </mat-form-field>
                                                            </span>
                                                        </div>
                                                        <div class="row">
                                                            <label id="ID018"
                                                                class="col-sm-4 col-form-label">
                                                                Referred
                                                                By</label>
                                                            <span
                                                                class="col-sm-7 mt-2">
                                                                <mat-form-field
                                                                    appearance="outline">
                                                                    <input
                                                                        type="text"
                                                                        matInput
                                                                        formControlName="ReferredBy" />
                                                                </mat-form-field>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </mat-tab>
                                                <mat-tab
                                                    label="Terms & Condition">
                                                    <div class="row">
                                                        <label id="ID019"
                                                            class="col-sm-4 col-form-label">
                                                            Notes</label>
                                                        <span
                                                            class="col-sm-7">
                                                            <textarea
                                                                formControlName="NotesTerms"
                                                                style="width: 100%;height: 120px; margin-left: 7px;">
                                                            </textarea>
                                                        </span>
                                                    </div>
                                                    <div class="row">
                                                        <label id="ID020"
                                                            class="col-sm-4 col-form-label">
                                                            Payment
                                                            Terms</label>
                                                        <span
                                                            class="col-sm-7 py-2 mx-2">
                                                            <mat-form-field
                                                                appearance="outline">
                                                                <input
                                                                    type="text"
                                                                    matInput
                                                                    formControlName="PaymentTerms" />
                                                            </mat-form-field>
                                                        </span>
                                                    </div>
                                                </mat-tab>
                                                <mat-tab label="Ship To">
                                                    <div class="col-11">
                                                        <div class="row p-1">
                                                            <mat-form-field
                                                                appearance="outline"
                                                                style="width: 100%; margin-left: 7px;">
                                                                <input
                                                                    type="text"
                                                                    matInput
                                                                    formControlName="ShipTo" />
                                                            </mat-form-field>
                                                        </div>
                                                        <textarea
                                                            formControlName="ShipToDesc"
                                                            style="width: 100%;height: 120px; margin-left: 7px;">
                                                        </textarea>
                                                    </div>
                                                </mat-tab>
                                                <mat-tab
                                                    label="Status"></mat-tab>
                                            </mat-tab-group>
                                        </mat-card-content>
                                    </mat-card>

                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <!-- Details section starts -->
                <div class="p-2">
                    <div class="col-11">
                        <menu-buttons [viewAddBtn]="true" [viewDeleteBtn]="true"
                            [viewImportBtn]="true"
                            (addClick)="addNewDetail()"
                            (deleteClick)="deleteClicked()"
                            (importClick)="importClicked()">
                        </menu-buttons>
                    </div>
                    <!-- table sectin starts -->
                    <dx-data-grid id="gridContainer" [dataSource]="tableData"
                        [showRowLines]="true" [showBorders]="true"
                        [allowColumnResizing]="true"
                        (onRowClick)="onRowClickHandler($event)">
                        <dxo-selection mode="single"></dxo-selection>
                        <dxo-editing mode="form"></dxo-editing>
                        <!-- <dxi-column *ngFor="let data of tableDataHead" 
                            dataField="{{ data }}" width="auto"
                            caption="{{ data }}" [allowEditing]="true" alignment="center">
                        </dxi-column> -->
                        <dxi-column caption="SRNO" dataField="SRNO" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="DESIGN CODE" dataField="designCode"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="KARAT" dataField="KARAT_CODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="METAL COLOR" dataField="COLOR"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="PCS" dataField="PCS" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="METAL WT" dataField="METAL_WT"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="STONE WT" dataField="STONE_WT"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="GROSS WT" dataField="GROSS_WT"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="RATE FC" dataField="RATEFC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <!-- <dxi-column caption="RATE CC" dataField="RATEFC"
                            width="auto" alignment="center">
                        </dxi-column> -->
                        <dxi-column caption="VALUE FC" dataField="AMOUNTFC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <!-- <dxi-column caption="VALUE CC" dataField="RATEFC"
                            width="auto" alignment="center">
                        </dxi-column> -->
                        <dxi-column caption="NETVALUE FC"
                            dataField="RATEFC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="CHARGE1FC" dataField="SETTING"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="CHARGE2FC" dataField="CHARGE2FC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="CHARGE3FC" dataField="CHARGE3FC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="CHARGE4FC" dataField="CHARGE4FC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="CHARGE5FC" dataField="CHARGE5FC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DUTY_AMT" dataField="DUTY_AMT"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DUTY_PER" dataField="DUTY_PER"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="LOAD_PER" dataField="LOAD_PER"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="MARGIN_PER" dataField="MARGIN_PER"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DISCPER" dataField="DISCPER"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DISCAMTFC" dataField="DISCAMTFC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="LOCTYPE_CODE"
                            dataField="LOCTYPE_CODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="D_REMARKS" dataField="D_REMARKS"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DSURFACEPROPERTY"
                            dataField="DSURFACEPROPERTY"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DREFERENCE" dataField="DREFERENCE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DWIDTH" dataField="DWIDTH"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DTHICKNESS" dataField="DTHICKNESS"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="ENGRAVE_TEXT"
                            dataField="ENGRAVE_TEXT"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="ENGRAVE_FONT"
                            dataField="ENGRAVE_FONT"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="SUPPLIER" dataField="SUPPLIER"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="SUFFIX" dataField="SUFFIX"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DESCRIPTION"
                            dataField="DESCRIPTION"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="SEQ_CODE" dataField="SEQ_CODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DSO_PICTURE_NAME"
                            dataField="DSO_PICTURE_NAME"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="QUOT" dataField="QUOT"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DSO_STOCK_CODE"
                            dataField="DSO_STOCK_CODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="MARKUP_PER"
                            dataField="MarkupPercentage"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="GOLD_LOSS_PER"
                            dataField="GOLD_LOSS_PER"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="MARGIN_AMTFC"
                            dataField="MARGIN_AMTFC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="MARKUP_AMTFC"
                            dataField="MARKUP_AMTFC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="GOLD_LOSS_AMTFC"
                            dataField="GOLD_LOSS_AMTFC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="COSTFC" dataField="COSTFC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="TOTAL_LABOUR"
                            dataField="TOTAL_LABOUR"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="CATEGORY_CODE"
                            dataField="CATEGORY_CODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="SUBCATEGORY_CODE"
                            dataField="SUBCATEGORY_CODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="TYPE_CODE" dataField="TYPE_CODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="BRAND_CODE" dataField="BRAND_CODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="COUNTRY_CODE"
                            dataField="COUNTRY_CODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="CUT_CODE" dataField="CUT_CODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="FINISH_CODE"
                            dataField="FINISH_CODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DYE_CODE" dataField="DYE_CODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DELIVERY_DATE"
                            dataField="DELIVERY_DATE" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="SIZE"
                            dataField="SIZE" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="LENGTH"
                            dataField="LENGTH" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="SCREW_FIELD"
                            dataField="SCREW_FIELD" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="DSN_STOCK_CODE"
                            dataField="DSN_STOCK_CODE" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="ENAMEL_COLOR"
                            dataField="ENAMEL_COLOR" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="RATECC"
                            dataField="RATECC" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="VALUECC"
                            dataField="VALUECC" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="DISCAMTCC"
                            dataField="DISCAMTCC" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="NETVALUECC"
                            dataField="NETVALUECC" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="CHARGE1LC"
                            dataField="CHARGE1LC" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="CHARGE2LC"
                            dataField="CHARGE2LC" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="CHARGE3LC"
                            dataField="CHARGE3LC" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="CHARGE4LC"
                            dataField="CHARGE4LC" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="CHARGE5LC"
                            dataField="CHARGE5LC" width="auto"
                            alignment="center">
                        </dxi-column>
                        <dxi-column caption="MARKUP_AMTLC"
                            dataField="MARKUP_AMTLC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="MARGIN_AMTLC"
                            dataField="MARGIN_AMTLC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="GOLD_LOSS_AMTLC"
                            dataField="GOLD_LOSS_AMTLC"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="UNQ_DESIGN_ID"
                            dataField="UNQ_DESIGN_ID"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="SERVICE_ACCCODE"
                            dataField="SERVICE_ACCCODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DIVISION_CODE"
                            dataField="DIVISION_CODE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="JOBNO" dataField="JOBNO"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DELIVERY_TYPE"
                            dataField="DELIVERY_TYPE"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="DELIVERY_DAYS"
                            dataField="DELIVERY_DAYS"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxi-column caption="PURITY" dataField="PURITY"
                            width="auto" alignment="center">
                        </dxi-column>
                        <dxo-scrolling
                            columnRenderingMode="virtual"></dxo-scrolling>
                    </dx-data-grid>
                </div>
                <div class="col-md-11 top">
                    <div class="d-flex flex-coloumn">
                        <div class="col-md-4">
                            <label class="col-sm-3 col-form-label rem"
                                id="ID021">
                                Narration</label>
                            <mat-form-field class="col-sm-6"
                                appearance="outline">
                                <input type="text" matInput name="narration"
                                    ([ngModel])="Narration" />
                            </mat-form-field>
                        </div>
                        <div class="d-flex mt-3">
                            <div>
                                <button type="button" mat-flat-button
                                    (click)="addNewDetail()">
                                    <span id="ID022">Price Recalc</span>
                                </button>
                            </div>
                            <div class="ps-1">
                                <button type="button" mat-flat-button>
                                    <span id="ID023">Quot</span>
                                </button>
                            </div>
                            <div class="ps-1">
                                <button type="button" mat-flat-button>
                                    <span id="ID024">MRQ Print</span>
                                </button>
                            </div>
                            <div class="ps-1">
                                <button type="button" mat-flat-button>
                                    <span id="ID025">Sticker Print</span>
                                </button>
                            </div>
                            <div class="ps-1">
                                <button type="button" mat-flat-button>
                                    <span id="ID026">Export</span>
                                </button>
                            </div>
                            <div class="ps-1">
                                <div class="d-flex" id="ID027">
                                    <input type="checkbox" formControlName="summaryBtn" /> Summary
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </mat-tab>
            <mat-tab label="Labour Details">
                <div class="row">
                    <div class="col-md-3">
                        <h6 class="let" id="ID028">Divisions for Gross Weight
                            Calculations</h6>
                        <div class="pt-2">
                            <!-- Divisions grid -->
                            <dx-data-grid id="gridContainer"
                                [dataSource]="divisionDetailGrid"
                                [showRowLines]="true"
                                height="auto"
                                [showBorders]="true"
                                [allowColumnResizing]="true"
                                (onSelectionChanged)="selectDivisionGridData($event)">
                                <dxo-selection mode="multiple"></dxo-selection>
                                <dxo-paging [enabled]="false"></dxo-paging>
                                <!-- <dxi-column width="auto"
                                    dataField="IS_SELECTED"
                                    cellTemplate="selectTemplate"
                                    alignment="right"
                                    headerCellTemplate="selectHeaderTemplate">
                                    <div
                                        *dxTemplate="let data of 'selectTemplate'">
                                        <mat-checkbox [checked]="data.value"
                                            [disabled]="viewMode"
                                            (change)="selectDivisionGridData(data)">
                                        </mat-checkbox>
                                    </div>
                                    <div
                                        *dxTemplate="let item of 'selectHeaderTemplate'">
                                        <mat-checkbox [checked]="item.value"
                                            [disabled]="viewMode"
                                            (change)="selectAllboxDivision(item)">
                                        </mat-checkbox>
                                    </div>
                                </dxi-column> -->
                                <dxi-column
                                    dataField="DIVISION_CODE"
                                    width="auto" caption="Division"
                                    [allowEditing]="true"
                                    alignment="left">
                                </dxi-column>
                                <dxi-column dataField="DESCRIPTION"
                                    width="auto"
                                    caption="Description"
                                    [allowEditing]="true"
                                    alignment="left">
                                </dxi-column>
                            </dx-data-grid>
                        </div>
                    </div>
                    <div class="col-md-9">
                        <div class="d-flex">
                            <h6 class="lets pt-3" id="ID029">Labour Calculate on
                            </h6>
                            <div class="chbox pt-3">
                                <mat-radio-group aria-label="Select an option">
                                    <mat-radio-button [(ngModel)]="grossChecked"
                                        value="1" style="font-size: 13px;"
                                        id="ID030">
                                        Gross Weight</mat-radio-button>
                                    &nbsp;
                                    <mat-radio-button [(ngModel)]="NetWtChecked"
                                        value="2" style="font-size: 13px;"
                                        id="ID031">
                                        Net Weight</mat-radio-button>
                                </mat-radio-group>
                            </div>
                            <div class="d-flex ps-2">
                                <label class="col-sm-4 col-form-label"
                                    id="ID032">
                                    Margin %</label>
                                <span class="col-sm-3 mt-2">
                                    <mat-form-field appearance="outline">
                                        <input type="number" maxlength="6"
                                            matInput AmountDecimalInput
                                            class="text-right" />
                                    </mat-form-field>
                                </span>
                            </div>
                        </div>

                        <div class="d-flex">
                            <!-- Labour detail grid -->
                            <dx-data-grid id="gridContainer"
                                [dataSource]="labourDetailGrid"
                                [showRowLines]="true"
                                [showBorders]="true"
                                [remoteOperations]="true"
                                [allowColumnResizing]="true"
                                (onSelectionChanged)="selectLabourGridData($event)">
                                <dxo-selection mode="multiple"></dxo-selection>
                                <dxo-paging [enabled]="false"></dxo-paging>
                                <!-- <dxo-editing mode="cell"
                                    [allowUpdating]="true">
                                </dxo-editing> -->
                                <!-- <dxi-column width="auto"
                                    dataField="IS_SELECTED"
                                    cellTemplate="sTemplate"
                                    alignment="right"
                                    headerCellTemplate="HeaderTemplate">
                                    <div
                                        *dxTemplate="let data of 'sTemplate'">
                                        <mat-checkbox [checked]="data.value"
                                            [disabled]="viewMode"
                                            (change)="selectLabourGridData(data)">
                                        </mat-checkbox>
                                    </div>
                                    <div
                                        *dxTemplate="let ds of 'HeaderTemplate'">
                                        <mat-checkbox [checked]="ds.value"
                                            [disabled]="viewMode"
                                            (change)="selectAllboxLabour(ds)">
                                        </mat-checkbox>
                                    </div>
                                </dxi-column> -->
                                <dxi-column dataField="LABOUR_CODE"
                                    width="auto" caption="Code"
                                    [allowEditing]="false"
                                    alignment="left">
                                </dxi-column>
                                <dxi-column dataField="DIVCODE"
                                    width="auto" caption="Div"
                                    [allowEditing]="false"
                                    alignment="left">
                                </dxi-column>
                                <dxi-column dataField="Qty"
                                    width="auto" caption="Qty"
                                    [allowEditing]="false"
                                    alignment="left">
                                </dxi-column>
                                <dxi-column dataField="SELLING_RATE"
                                    width="auto" caption="Rate"
                                    [allowEditing]="true"
                                    alignment="left">
                                </dxi-column>
                                <dxi-column dataField="WASTAGE_PER"
                                    width="auto" caption="Wastage %"
                                    [allowEditing]="true"
                                    alignment="left">
                                </dxi-column>
                                <dxi-column dataField="DIVISION"
                                    width="auto" caption="Lab Type"
                                    [allowEditing]="true"
                                    alignment="left">
                                </dxi-column>
                                <dxi-column dataField="LAB_ACCODE"
                                    width="auto" caption="Lab A/c"
                                    [allowEditing]="true"
                                    alignment="left">
                                </dxi-column>
                                <dxi-column dataField="UNITCODE"
                                    width="auto" caption="Unit"
                                    [allowEditing]="true"
                                    alignment="left">
                                </dxi-column>
                                <dxi-column dataField="SHAPE"
                                    width="auto" caption="Shape"
                                    [allowEditing]="true"
                                    alignment="left">
                                </dxi-column>
                                <dxi-column dataField="KARAT_CODE"
                                    width="auto" caption="Karat"
                                    [allowEditing]="true"
                                    alignment="left">
                                </dxi-column>
                                <dxi-column dataField="CURRENCYCODE"
                                    width="auto" caption="Currency"
                                    [allowEditing]="true"
                                    alignment="left">
                                </dxi-column>
                                <dxi-column dataField="CARATWT_FROM"
                                    width="auto" caption="Wt From"
                                    [allowEditing]="true"
                                    alignment="left">
                                </dxi-column>
                                <dxi-column dataField="CARATWT_TO"
                                    width="auto" caption="Wt To"
                                    [allowEditing]="true"
                                    alignment="left">
                                </dxi-column>
                            </dx-data-grid>
                        </div>
                    </div>
                </div>
            </mat-tab>
        </mat-tab-group>

    </div>
</div>