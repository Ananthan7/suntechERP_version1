<!-- header section starts -->
<div class="card-content border-bottom d-flex justify-content-between p-2">
    <h5 class="pos-modaltitle" id="modal-dia-metal">Alloy Master</h5>
    <button type="button" class="btn btn-close close-btn" (click)="close()">
        <i class="feather icon-x close-icon"></i>
    </button>
</div>
<!-- modal header component -->
<modal-header (cancelClick)="close()" (saveClick)="formSubmit()" (deleteClick)="deleteMeltingType()"></modal-header>
<!-- content section -->
<div class="row">
    <div>
        <form [formGroup]="alloyMastereForm">
            <div class="container-fluid pt-3">
                <div class="check_radio_btn">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">Code *
                                    :</label>
                                <div class="col-sm-7">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" 
                                            id="code"
                                             matInput
                                            (focusout)="prefixCodeValidate()"
                                            formControlName="code" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="codeData"
                                        (newRowClick)="codeSelected($event)"></master-search>
                                </div>
                            </div>
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">Cost Center
                                    * :</label>
                                <div class="col-sm-7">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" matInput
                                            formControlName="costCenter" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="costCenterData"
                                        (newRowClick)="costCenterSelected($event)"></master-search>
                                </div>
                            </div>
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">Type
                                    :</label>
                                <div class="col-sm-7">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" matInput
                                            formControlName="type" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="typeCodeData"
                                        (newRowClick)="typeCodeSelected($event)"></master-search>
                                </div>
                            </div>
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">Category
                                    :</label>
                                <div class="col-sm-7">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" matInput
                                            formControlName="category" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="categoryCodeData"
                                        (newRowClick)="categoryCodeSelected($event)"></master-search>
                                </div>
                            </div>
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">Sub Category
                                    :</label>
                                <div class="col-sm-7">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" matInput
                                            formControlName="subCategory" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="subcategoryCodeData"
                                        (newRowClick)="subcategoryCodeSelected($event)"></master-search>
                                </div>
                            </div>
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">Brand
                                    :</label>
                                <div class="col-sm-7">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" matInput
                                            formControlName="brand" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="BrandCodeData"
                                        (newRowClick)="brandCodeSelected($event)"></master-search>
                                </div>
                            </div>
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">Color
                                    :</label>
                                <div class="col-sm-7">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" matInput
                                            formControlName="color" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="colorData"
                                        (newRowClick)="colorDataSelected($event)">
                                    </master-search>
                                </div>
                            </div>
                            <div class="row mb-1">
                                <div class="col-sm-12">
                                    <section class="example-section">
                                        <mat-checkbox
                                            class="example-margin" [disabled]="viewMode">Allow
                                            Pcs</mat-checkbox>
                                    </section>
                                    <section class="example-section">
                                        <mat-checkbox
                                            class="example-margin" [disabled]="viewMode">Exclude From
                                            Transfer Wt</mat-checkbox>
                                    </section>
                                    <section class="example-section">
                                        <mat-checkbox
                                            class="example-margin" [disabled]="viewMode">Silver
                                            Alloy</mat-checkbox>
                                    </section>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">Description
                                    * :</label>
                                <div class="col-sm-7">
                                    <mat-form-field>
                                        <input type="text" matInput
                                            formControlName="description" [readonly]="viewMode"/>
                                    </mat-form-field>

                                </div>
                            </div>
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">Vendor
                                    :</label>
                                <div class="col-sm-7">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" matInput
                                            formControlName="vendor" maxlength="50" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="vendorCodeData"
                                        (newRowClick)="vendorCodeSelected($event)"></master-search>
                                </div>
                            </div>
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">Vendor Ref
                                    :</label>
                                <div class="col-sm-7">
                                    <mat-form-field>
                                        <input type="text" matInput
                                            formControlName="vendorRef" [readonly]="viewMode"/>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">Created on
                                    :</label>
                                <div class="col-sm-7">
                                    <mat-form-field style="width: 100%;">
                                        <input  [disabled]="true" matInput
                                            [matDatepicker]="createdOn"
                                            formControlName="createdOn"
                                            placeholder="DD/MM/YYYY"
                                            DateValidation [readonly]="viewMode"/>
                                        <mat-datepicker-toggle matSuffix
                                            [for]="createdOn"></mat-datepicker-toggle>
                                        <mat-datepicker [disabled]="true"
                                            [startAt]="currentDate"
                                            #createdOn></mat-datepicker>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">Created by
                                    :</label>
                                <div class="col-sm-7">
                                    <mat-form-field>
                                        <input   type="text"
                                            matInput
                                            formControlName="createdBy" [readonly]="true"/>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">First Trans
                                    :</label>
                                <div class="col-sm-7">
                                    <mat-form-field>
                                        <input type="text" matInput
                                            formControlName="fristtransaction" [readonly]="true"/>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-5 col-form-label">Last Trans
                                    :</label>
                                <div class="col-sm-7">
                                    <mat-form-field>
                                        <input type="text" matInput
                                            formControlName="lasttransaction" [readonly]="true"/>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 ">
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-4 col-form-label">Currency *
                                    :</label>
                                <div class="col-sm-4 flexbox">
                                    <mat-form-field style="width: 80%;" class="stretch">
                                        <input  type="text" matInput readonly
                                            formControlName="currency" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <div class="normal">
                                        <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="currencyCodeData"
                                        (newRowClick)="currencyDataSelected($event)">
                                    </master-search>
                                    </div>
                                    
                                </div>
                                <div class="col-sm-4">
                                    <mat-form-field style="width: 100%;">
                                        <input type="text" matInput
                                            SixDecimalInput readonly
                                            style="text-align: right;"
                                            formControlName="currencyRate" />
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row mb-1">
                                <label for="input"
                                    class="col-sm-4 col-form-label">Weight Avg
                                    Cost :</label>
                                <div class="col-sm-4">
                                    <mat-form-field style="width: 100%;">
                                        <input type="text" matInput
                                            formControlName="weightAvgCost" style="text-align: right;" [readonly]="viewMode" AmountDecimalInput/>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-4">
                                    <mat-form-field style="width: 100%;">
                                        <input type="text" matInput
                                            formControlName="weightAvgCostDes" style="text-align: right;" [readonly]="viewMode" AmountDecimalInput/>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="price_box">
                                        <a>PriceScheme</a>
                                        <master-search *ngIf="!viewMode"
                                            [MasterSearchData]="priceSchemeData"
                                            (newRowClick)="priceSchemeValidate($event)"></master-search>
                                        <a>{{alloyMastereForm.value.priceScheme}}</a>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-2">
                                    <h6>Cost</h6>
                                </div>
                                <div class="col-sm-4">
                                    <h6>Code</h6>
                                </div>
                                <div class="col-sm-2">
                                    <h6>%</h6>
                                </div>
                                <div class="col-sm-2">
                                    <h6>FC</h6>
                                </div>
                                <div class="col-sm-2">
                                    <h6>LC</h6>
                                </div>
                            </div>
                            <div class="row align-items-center  mb-1">
                                <div class="col-sm-2">
                                    <h6>Price 1</h6>
                                </div>
                                <div class="col-sm-4">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" matInput
                                            formControlName="price1code" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="priceCodeData"
                                        (newRowClick)="priceOneCodeSelected($event)"></master-search>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="text" matInput
                                            formControlName="price1per" CommaSeparatedNumber
                                            class="text-right" max="100" [readonly]="viewMode"/>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="number" matInput
                                            AmountDecimalInput
                                            formControlName="price1Fc"
                                            class="text-right" [readonly]="true"/>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="number" matInput
                                            AmountDecimalInput
                                            formControlName="price1Lc"
                                            class="text-right" [readonly]="viewMode"/>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row align-items-center  mb-1">
                                <div class="col-sm-2">
                                    <h6>Price 2</h6>
                                </div>
                                <div class="col-sm-4">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" matInput
                                            formControlName="price2code" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="priceCodeData"
                                        (newRowClick)="priceTwoCodeSelected($event)"></master-search>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="text" matInput
                                            formControlName="price2per" CommaSeparatedNumber
                                            [dir]="'rtl'" class="text-right" [readonly]="viewMode"/>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="number" matInput
                                            formControlName="price2Fc"
                                            AmountDecimalInput
                                            class="text-right" [readonly]="true"/>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="number" matInput
                                            formControlName="price2Lc"
                                            AmountDecimalInput
                                            class="text-right" [readonly]="viewMode"/>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row align-items-center  mb-1">
                                <div class="col-sm-2">
                                    <h6>Price 3</h6>
                                </div>
                                <div class="col-sm-4">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" matInput
                                            formControlName="price3code" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="priceCodeData"
                                        (newRowClick)="priceThreeCodeSelected($event)"></master-search>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="text" matInput CommaSeparatedNumber
                                            formControlName="price3per"
                                            style="text-align: right;" [readonly]="viewMode"/>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="number" matInput
                                            formControlName="price3Fc"
                                            AmountDecimalInput
                                            class="text-right" [readonly]="true"/>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="number" matInput
                                            formControlName="price3Lc"
                                            AmountDecimalInput
                                            class="text-right" [readonly]="viewMode"/>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row align-items-center  mb-1">
                                <div class="col-sm-2">
                                    <h6>Price 4</h6>
                                </div>
                                <div class="col-sm-4">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" matInput
                                            formControlName="price4code" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="priceCodeData"
                                        (newRowClick)="priceFourCodeSelected($event)"></master-search>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="text" matInput CommaSeparatedNumber
                                            formControlName="price4per"
                                            class="text-right" [readonly]="viewMode"/>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="number" matInput
                                            formControlName="price4Fc"
                                            AmountDecimalInput
                                            class="text-right" [readonly]="true"/>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="number" matInput
                                            formControlName="price4Lc"
                                            AmountDecimalInput
                                            class="text-right" [readonly]="viewMode"/>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row align-items-center  mb-1">
                                <div class="col-sm-2">
                                    <h6>Price 5</h6>
                                </div>
                                <div class="col-sm-4">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" matInput
                                            formControlName="price5code" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="priceCodeData"
                                        (newRowClick)="priceFiveCodeSelected($event)"></master-search>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="text" matInput CommaSeparatedNumber
                                            formControlName="price5per"
                                            style="text-align: right;" [readonly]="viewMode"/>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="number" matInput
                                            formControlName="price5Fc"
                                            AmountDecimalInput
                                            class="text-right" [readonly]="true"/>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field style="width: 100%;">
                                        <input type="number" matInput
                                            formControlName="price5Lc"
                                            AmountDecimalInput
                                            class="text-right" [readonly]="viewMode"/>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row align-items-center  mb-1">
                                <div class="col-sm-2">
                                    <h6>HSN</h6>
                                </div>
                                <div class="col-sm-4">
                                    <mat-form-field style="width: 70%;">
                                        <input type="text" matInput
                                            formControlName="hsncode" [readonly]="viewMode"/>
                                    </mat-form-field>
                                    <master-search *ngIf="!viewMode"
                                        [MasterSearchData]="HSNCodeData"
                                        (newRowClick)="HSNCenterSelected($event)"></master-search>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="upload-btn-wrapper">
                                <button class="btn btnnew" [disabled]="viewMode">Item Image</button>
                                <input type="file" name="uploadproduct"
                                    accept=".png, .jpg, .jpeg" #fileInput
                                    class="uploadproduct"
                                    [disabled]="viewMode"
                                    (change)="onFileChanged($event)">
                            </div>

                            <div class="image_box">
                                <div class="img_box">
                                    <img src={{urls}}
                                        style="width:209px;height:163px">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

</div>