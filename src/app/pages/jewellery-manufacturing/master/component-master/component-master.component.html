<div class="card-content border-bottom d-flex justify-content-between p-2">
    <h5 class="pos-modaltitle" id="modal-dia-metal">Component Master </h5>
    <button type="button" class="btn btn-close close-btn" (click)="close()">
        <i class="feather icon-x close-icon"></i>
    </button>
</div>
<!-- modal header component -->
<modal-header (saveClick)="formSubmit()" (cancelClick)="close()"></modal-header>
<div class="container-fluid pt-3">
    <form [formGroup]="componentmasterForm">
        <div class="col-md-12">
            <div class="sales-card-body p-2">
                <div class="row">
                    <div class="col-md-5">

                        <div class="row mb-2">
                            <label for="input" class="col-sm-2 col-form-label">Code * :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;">
                                    <input type="text" matInput formControlName="code" oninput="this.value = this.value.toUpperCase()" />
                                </mat-form-field>
                            </div>
                            <div class="col-sm-6">
                                <mat-form-field style="width: 80%;">
                                    <input type="text" matInput formControlName="codedes" oninput="this.value = this.value.toUpperCase()" />
                                </mat-form-field>
                                <master-search [MasterSearchData]="codeCodeData"
                                    (newRowClick)="codeCodeSelected($event)">
                                </master-search>
                            </div>
                        </div>

                        <div class="row mb-2">
                            <label for="input" class="col-sm-2 col-form-label">Size Set
                                :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 70%;">
                                    <input type="text" matInput formControlName="sizeSet" />
                                </mat-form-field>
                                <master-search [MasterSearchData]="sizeSetCodeData"
                                    (newRowClick)="sizeSetCodeSelected($event)">
                                </master-search>
                            </div>
                            <label for="input" class="col-sm-2 col-form-label">Type :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 70%;">
                                    <input type="text" matInput formControlName="type" />
                                </mat-form-field>
                                <master-search [MasterSearchData]="typeCodeData"
                                    (newRowClick)="typeCodeSelected($event)"></master-search>
                            </div>
                        </div>

                        <div class="row mb-2">
                            <label for="input" class="col-sm-2 col-form-label">Size :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 70%;">
                                    <input type="text" matInput formControlName="size" />
                                </mat-form-field>
                                <master-search [MasterSearchData]="sizeCodeData"
                                    (newRowClick)="sizeCodeSelected($event)">
                                </master-search>
                            </div>
                            <label for="input" class="col-sm-2 col-form-label">Category
                                :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 70%;">
                                    <input type="text" matInput formControlName="category" />
                                </mat-form-field>
                                <master-search [MasterSearchData]="categoryCodeData"
                                    (newRowClick)="categoryCodeSelected($event)"></master-search>
                            </div>
                        </div>

                        <div class="row mb-2">
                            <label for="input" class="col-sm-2 col-form-label">Shape :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 70%;">
                                    <input type="text" matInput formControlName="shape" />
                                </mat-form-field>
                                <master-search [MasterSearchData]="shapeCodeData"
                                    (newRowClick)="shapeCodeSelected($event)">
                                </master-search>
                            </div>
                            <label for="input" class="col-sm-2 col-form-label">Setting
                                Type:</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 70%;">
                                    <input type="text" matInput formControlName="settingType" />
                                </mat-form-field>
                                <master-search [MasterSearchData]="settingTypeCodeData"
                                    (newRowClick)="settingTypeCodeSelected($event)">
                                </master-search>
                            </div>
                        </div>

                        <div class="row mb-2">
                            <label for="input" class="col-sm-2 col-form-label">Remarks
                                :</label>
                            <div class="col-sm-8">
                                <mat-form-field style="width: 100%;">
                                    <input type="text" matInput formControlName="remarks" />
                                </mat-form-field>

                            </div>
                        </div>

                    </div>

                    <div class="col-md-4">

                        <div class="row mb-2">
                            <label for="input" class="col-sm-2 col-form-label">Height :</label>
                            <div class="col-sm-4">
                                <mat-form-field style="width: 80%;">
                                    <input type="text" class="text-right" AmountDecimalInput matInput NumberOnly
                                        formControlName="height" />
                                </mat-form-field>

                            </div>
                            <label for="input" class="col-sm-2 col-form-label">Length :</label>
                            <div class="col-sm-4">
                                <mat-form-field style="width: 80%;">
                                    <input type="text" class="text-right" AmountDecimalInput matInput NumberOnly
                                        formControlName="length" />
                                </mat-form-field>

                            </div>
                        </div>

                        <div class="row mb-2">
                            <label for="input" class="col-sm-2 col-form-label">Width :</label>
                            <div class="col-sm-4">
                                <mat-form-field style="width: 80%;">
                                    <input type="text" class="text-right" AmountDecimalInput matInput NumberOnly
                                        formControlName="width" />
                                </mat-form-field>

                            </div>
                            <label for="input" class="col-sm-2 col-form-label">Radius :</label>
                            <div class="col-sm-4">
                                <mat-form-field style="width: 80%;">
                                    <input type="text" class="text-right" AmountDecimalInput matInput NumberOnly
                                        formControlName="radius" />
                                </mat-form-field>

                            </div>
                        </div>

                        <div class="row mb-2">
                            <label for="input" class="col-sm-4 col-form-label">Process Sequence
                                :</label>
                            <div class="col-sm-7">
                                <mat-form-field style="width: 80%;">
                                    <input type="text" matInput formControlName="processSeq" />
                                </mat-form-field>
                                <master-search [MasterSearchData]="processSeqCodeData"
                                    (newRowClick)="processSeqCodeSelected($event)">
                                </master-search>
                            </div>
                        </div>

                        <div class="row mb-2">
                            <label for="input" class="col-sm-4 col-form-label">Cost Center
                                :</label>
                            <div class="col-sm-7">
                                <mat-form-field style="width: 80%;">
                                    <input type="text" matInput formControlName="costCenter" />
                                </mat-form-field>
                                <master-search [MasterSearchData]="costCenterCodeData"
                                    (newRowClick)="costCenterCodeSelected($event)">
                                </master-search>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-2">
                        <div class="container">
                            <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel"
                             data-bs-pause="hover" data-bs-interval="false">
                              <div class="box-wrap">
                              <div class="carousel-inner ">
                                <div class="carousel-item active" *ngFor="let img of images; let i = index"
                                  [class.active]="i === 0">
                                 
                                    <div class="upload-btn-wrapper ">
                                      <button class="btn btnnew border-dark">
                                        <img src={{img}} style="width:126px;height:124px">
                                      </button>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <button class="carousel-control-prev" type="button"
                                data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                              </button>
                              <button class="carousel-control-next" type="button"
                                data-bs-target="#carouselExampleControls" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                              </button>
                            </div>
                            <input type="file" class="uploadproduct" accept=".png, .jpg, .jpeg" #fileInput
                              (change)="onFileChangedimage($event)" multiple>
                          </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-sm-3 d-flex">
                        <menu-buttons [viewAddBtn]="true" [viewDeleteBtn]="true" [viewImportBtn]="false"
                            (addClick)="addTableData()"  (deleteClick)="deleteTableData()">
                        </menu-buttons>
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col-md-12">
                        <mat-tab-group [(selectedIndex)]="selectedTabIndex">
                            <mat-tab label="Components">
                                <dx-data-grid #dataGrid id="gridContainer" keyExpr="SRNO" [showBorders]="true"
                                    [allowColumnReordering]="true" [allowColumnResizing]="true" [dataSource]="tableData"
                                    class="mt-3" [columnAutoWidth]="true" [showColumnLines]="true" [showRowLines]="true"
                                    (onSelectionChanged)="onSelectionChanged($event)">
                                    <dxo-selection mode="multiple"></dxo-selection>
                                    <!-- <dxo-editing mode="cell" [allowUpdating]="true">
                                    </dxo-editing> -->
                                    <dxo-scrolling mode="virtual"></dxo-scrolling>

                                    <dxi-column dataField="SRNO" caption="SRNo">
                                    </dxi-column>
                                    <dxi-column dataField="DIVCODE" caption="Div Code" cellTemplate="divisiontemp">
                                    </dxi-column>
                                    <dxi-column dataField="STOCK_CODE" caption="Stock Code"
                                        cellTemplate="stockCodetemp">
                                    </dxi-column>
                                    <dxi-column dataField="CARAT" caption="Karat" cellTemplate="karattemp">
                                    </dxi-column>
                                    <dxi-column dataField="STOCK_FCCOST" caption="Stock Type"
                                        cellTemplate="stockTypetemp">
                                    </dxi-column>
                                    <dxi-column dataField="PCS" caption="Pcs" cellTemplate="pcstemp">
                                    </dxi-column>
                                    <dxi-column dataField="GROSS_WT" caption="Wt/Ct" cellTemplate="wtCttemp">
                                    </dxi-column>
                                    <dxi-column dataField="COLOR" caption="Color" cellTemplate="colortemp">
                                    </dxi-column>
                                    <dxi-column dataField="CLARITY" caption="Clarity" cellTemplate="claritytemp">
                                    </dxi-column>
                                    <dxi-column dataField="SHAPE" caption="Shape" cellTemplate="shapetemp">
                                    </dxi-column>
                                    <dxi-column dataField="SIEVE" caption="Sieve Std" cellTemplate="sievetemp">
                                    </dxi-column>
                                    <dxi-column dataField="DESCRIPTION" caption="Description"
                                        cellTemplate="descriptiontemp">
                                    </dxi-column>
                                    <dxi-column dataField="DSIZE" caption="Size" cellTemplate="sizetemp">
                                    </dxi-column>
                                    <dxi-column dataField="PROCESS_TYPE" caption="Process Type"
                                        cellTemplate="processTypetemp">
                                    </dxi-column>
                                    <dxi-column dataField="D_REMARKS" caption="Remarks" cellTemplate="remarktemp">
                                    </dxi-column>
                                    <dxi-column dataField="POINTER_WT" caption="pointer Wt"
                                        cellTemplate="pointerWttemp">
                                    </dxi-column>
                                    <dxi-column dataField="EXT_Color" caption="Ext.Color" cellTemplate="extColortemp">
                                    </dxi-column>
                                    <dxi-column dataField="EXT_CLARITY" caption="Ext.Clarity"
                                        cellTemplate="extClaritytemp">
                                    </dxi-column>
                                    <dxi-column dataField="SIEVE_FROM" caption="Sieve from"
                                        cellTemplate="sieveFromtemp">
                                    </dxi-column>
                                    <dxi-column dataField="SIEVE_TO" caption="Sieve To" cellTemplate="sieveTotemp">
                                    </dxi-column>


                                    <div *dxTemplate="let data of 'divisiontemp'">
                                        <a href="javascript:void(0)" class="mx-1" [innerHTML]="data.value"></a>
                                        <master-search [MasterSearchData]="divisionCode"
                                            (newRowClick)="divisionCodeSelected($event,data,'divisiontemp')">
                                        </master-search>
                                    </div>

                                    <div *dxTemplate="let data of 'stockCodetemp'">
                                        <a href="javascript:void(0)" class="mx-1" [innerHTML]="data.value"></a>
                                        <master-search [MasterSearchData]="stockCodeData"
                                            (newRowClick)="stockCodeDataSelected($event,data,'stockCodetemp')">
                                        </master-search>
                                    </div>

                                    <div *dxTemplate="let data of 'karattemp'">
                                        <a href="javascript:void(0)" class="mx-1" [innerHTML]="data.value"></a>
                                        <master-search [MasterSearchData]="karatCodeData"
                                            (newRowClick)="karatCodeSelected($event,data,'karattemp')">
                                        </master-search>
                                    </div>

                                    <div *dxTemplate="let data of 'stockTypetemp'">
                                        <input type="text" (change)="stockType($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'pcstemp'">
                                        <input type="text" (change)="pcstemp($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'wtCttemp'">
                                        <input type="text" (change)="wtCtt($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'colortemp'">
                                        <input type="text" (change)="color($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'claritytemp'">
                                        <input type="text" (change)="clarity($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'shapetemp'">
                                        <input type="text" (change)="shape($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'sievetemp'">
                                        <input type="text" (change)="sieve($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'descriptiontemp'">
                                        <input type="text" (change)="description($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'sizetemp'">
                                        <input type="text" (change)="size($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'processTypetemp'">
                                        <input type="text" (change)="processType($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'remarktemp'">
                                        <input type="text" (change)="remark($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'pointerWttemp'">
                                        <input type="text" (change)="pointerWt($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>


                                    <div *dxTemplate="let data of 'extColortemp'">
                                        <input type="text" (change)="extColor($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'extClaritytemp'">
                                        <input type="text" (change)="extClarity($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'sieveFromtemp'">
                                        <input type="email" (change)="sieveFrom($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                    <div *dxTemplate="let data of 'sieveTotemp'">
                                        <input type="email" (change)="sieveTo($event,data)" [value]="data.value"
                                            style="width: 100%;" required />
                                    </div>

                                </dx-data-grid>
                            </mat-tab>

                            <mat-tab label="Main Design Details">
                                <dx-data-grid #dataGrid id="gridContainer" keyExpr="ID" [showBorders]="true"
                                    [allowColumnReordering]="true" [allowColumnResizing]="true"
                                    [columnAutoWidth]="true">
                                    <dxo-paging [enabled]="false"></dxo-paging>
                                    <dxo-editing mode="cell" [allowUpdating]="true">
                                    </dxo-editing>
                                    <dxo-selection mode="multiple"></dxo-selection>
                                    <dxo-scrolling mode="virtual"></dxo-scrolling>

                                    <dxi-column *ngFor="let data of columnhead2" dataField="{{ data }}"
                                        caption="{{ data }}" [allowEditing]="true" alignment="center"
                                        backgroundcolor="#000">
                                    </dxi-column>
                                </dx-data-grid>
                            </mat-tab>
                        </mat-tab-group>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-12">
            <div class="row mb-2">
                <div class="col-md-5 offset-sm-11">
                    <div class="row">

                        <button type="button" class="btn btn-outline-primary metal-issue-del-btn w-auto mx-2">
                            Image
                        </button>
                        <input type="file" class="uploadproduct" accept=".png, .jpg, .jpeg" #fileInput
                            (change)="onFileChangedimage($event)" multiple>
                    </div>
                </div>
            </div>
        </div>

    </form>
</div>