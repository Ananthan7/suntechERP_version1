<div class="bg-light">
    <!-- header section starts -->
    <div
        class="pos-sales-modalheader border-bottom d-flex justify-content-between">
        <h5 class="pos-modaltitle" id="modal-dia-metal">Job Card</h5>
        <button type="button" class="btn btn-close close-btn" (click)="close()">
            <i class="feather icon-x close-icon"></i>
        </button>
    </div>
    <!-- modal header component -->
    <modal-header (saveClick)="formSubmit()"
        (cancelClick)="close()"></modal-header>
    <!-- content section -->
    <form [formGroup]="jobCardFrom">
        <div class="metal-sales-card">
            <div class="sales-card-body p-2">
                <div class="row mb-2">
                    <div class="row d-flex">
                        <div class="col-sm-5">
                            <h6 id="ID001">{{branchCode}}</h6>
                        </div>
                        <div class="col-sm-3">
                            <h6 id="ID002">Pending</h6>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="row align-items-center mb-2">
                            <label for="input" id="ID003"
                                class="col-sm-3 col-form-label">Order
                                Type * :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput #codeInput1
                                        formControlName="orderType"
                                        [readonly]="viewMode" maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        (focusout)="validateLookupField($event,ordertypeCodeData,'orderType')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'orderType')" />
                                    <master-search
                                        [MasterSearchData]="ordertypeCodeData"
                                        class="masterSearch"
                                        *ngIf="viewMode == false"
                                        #overlayorderTypeSearch
                                        (newRowClick)="ordertypeCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID004"
                                class="col-sm-3 col-form-label">Job Number *
                                :</label>
                            <div class="col-sm-3">
                                <!-- <input class="form-control" type="text" /> -->
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="number" matInput
                                        formControlName="jobno" maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        readonly
                                        class="text-left" />
                                </mat-form-field>
                            </div>
                            <label for="input" id="ID005"
                                class="col-sm-3 col-form-label">Job Date
                                :</label>
                            <div class="col-sm-3">
                                <div class="datepick">
                                    <!-- <input class="form-control flatpickr-input" type="text" placeholder="Select Date*"
                                        mwlFlatpickr dateFormat="d/m/y" formControlName="jobdate"> -->
                                    <mat-form-field style="width: 100%"
                                        appearance="outline">
                                        <input matInput DateValidation
                                            (dateChange)="formatDate($event)"
                                            formControlName="jobdate"
                                            [matDatepicker]="jobdate"
                                            placeholder="DD/MM/YYYY"
                                            [readonly]="viewMode"
                                            class="text-right" />
                                        <mat-datepicker-toggle matSuffix
                                            [for]="jobdate"></mat-datepicker-toggle>
                                        <mat-datepicker [disabled]="isSaved"
                                            [startAt]="currentDate"
                                            #jobdate></mat-datepicker>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID006"
                                class="col-sm-3 col-form-label">Design Code *
                                :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="designcode"
                                        maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,designCodeData,'designcode')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'designcode')" />
                                    <master-search
                                        [MasterSearchData]="designCodeData"
                                        class="masterSearch"
                                        #overlaydesigncodeSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="designCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-6">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="designtype"
                                        maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        readonly />
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID007"
                                class="col-sm-3 col-form-label">Customer *
                                :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="customer"
                                        maxlength="30"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,customerCodeData,'customer')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'customer')" />
                                    <master-search
                                        [MasterSearchData]="customerCodeData"
                                        class="masterSearch"
                                        #overlaycustomerSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="customerCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-6">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="customername"
                                        maxlength="100"
                                        [readonly]="viewMode" />
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID008"
                                class="col-sm-3 col-form-label">Sales Order
                                :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="number" matInput
                                        formControlName="salesorder"
                                        maxlength="20"
                                        class="text-right" readonly />
                                </mat-form-field>
                            </div>
                            <label for="input" id="ID009"
                                class="col-sm-3 col-form-label">Date
                                :</label>
                            <div class="col-sm-3">
                                <div class="datepick">
                                    <mat-form-field style="width: 100%"
                                        appearance="outline">
                                        <input matInput DateValidation
                                            (dateChange)="formatDate($event)"
                                            [matDatepicker]="date"
                                            formControlName="date"
                                            [disabled]="viewMode1"
                                            placeholder="DD/MM/YYYY"
                                            class="text-right" />
                                        <mat-datepicker-toggle matSuffix
                                            [for]="date"></mat-datepicker-toggle>
                                        <mat-datepicker [disabled]="viewMode1"
                                            #date></mat-datepicker>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID010"
                                class="col-sm-3 col-form-label">Cost Code *
                                :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="costcode"
                                        maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,costCodeData,'costcode')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'costcode')" />
                                    <master-search
                                        [MasterSearchData]="costCodeData"
                                        class="masterSearch"
                                        #overlaycostcodeSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="costCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                            <label for="input" id="ID011"
                                class="col-sm-3 col-form-label">Prefix :
                            </label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="prefix" maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,prefixCodeData,'prefix')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'prefix')" />
                                    <master-search
                                        [MasterSearchData]="prefixCodeData"
                                        class="masterSearch"
                                        #overlayprefixSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="prefixCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID012"
                                class="col-sm-3 col-form-label">Karat *
                                :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" class="text-left"
                                        matInput formControlName="karat"
                                        maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,karatCodeData,'karat')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'karat')" />
                                    <master-search
                                        [MasterSearchData]="karatCodeData"
                                        class="masterSearch"
                                        #overlaykaratSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="karatCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                            <label for="input" id="ID013"
                                class="col-sm-3 col-form-label">Type : </label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="type" maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,typeCodeData,'type')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'type')" />
                                    <master-search
                                        [MasterSearchData]="typeCodeData"
                                        class="masterSearch"
                                        #overlaytypeSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="typeCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID014"
                                class="col-sm-3 col-form-label">Category
                                :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="category"
                                        maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,categoryCodeData,'category')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'category')" />
                                    <master-search
                                        [MasterSearchData]="categoryCodeData"
                                        class="masterSearch"
                                        #overlaycategorySearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="categoryCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                            <label for="input" id="ID015"
                                class="col-sm-3 col-form-label">Sub Cat :
                            </label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="subcat" maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,subcatCodeData,'subcat')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'subcat')" />
                                    <master-search
                                        [MasterSearchData]="subcatCodeData"
                                        class="masterSearch"
                                        #overlaysubcatSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="subcatCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID016"
                                class="col-sm-3 col-form-label">Color *
                                :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="color" maxlength="20"
                                        UpperCaseDirective [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,colorCodeData,'color')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'color')" />
                                    <master-search
                                        [MasterSearchData]="colorCodeData"
                                        class="masterSearch"
                                        #overlaycolorSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="colorCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                            <label for="input" id="ID017"
                                class="col-sm-3 col-form-label">Brand
                                : </label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="brand" maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,brandCodeData,'brand')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'brand')" />
                                    <master-search
                                        [MasterSearchData]="brandCodeData"
                                        class="masterSearch"
                                        #overlaybrandSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="brandCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID018"
                                class="col-sm-3 col-form-label">Country
                                :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="country" maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,countryCodeData,'country')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'country')" />
                                    <master-search
                                        [MasterSearchData]="countryCodeData"
                                        class="masterSearch"
                                        #overlaycountrySearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="countryCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                            <label for="input" id="ID019"
                                class="col-sm-3 col-form-label">Set Ref :
                            </label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="setref" maxlength="20"
                                        [readonly]="viewMode" />
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID020"
                                class="col-sm-3 col-form-label">Comments
                                :</label>
                            <div class="col-sm-9">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="comments"
                                        maxlength="20"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,commentsCodeData,'comments')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'comments')" />
                                    <master-search
                                        [MasterSearchData]="commentsCodeData"
                                        class="masterSearch"
                                        #overlaycommentsSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="commentsCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID021"
                                class="col-sm-3 col-form-label">Size :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="size" maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,sizeCodeData,'size')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'size')" />
                                    <master-search
                                        [MasterSearchData]="sizeCodeData"
                                        class="masterSearch"
                                        #overlaysizeSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="sizeCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                            <label for="input" id="ID022"
                                class="col-sm-3 col-form-label">Length :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="length" maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,lengthCodeData,'length')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'length')" />
                                    <master-search
                                        [MasterSearchData]="lengthCodeData"
                                        class="masterSearch"
                                        #overlaylengthSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="lengthCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID023"
                                class="col-sm-3 col-form-label">Instruction
                                :</label>
                            <div class="col-sm-9">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="instruction"
                                        maxlength="150"
                                        [readonly]="viewMode" />
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID024"
                                class="col-sm-3 col-form-label">Job Type *
                                :</label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput readonly
                                        formControlName="jobtype"
                                        maxlength="20" />
                                </mat-form-field>
                            </div>
                            <label for="input" id="ID025"
                                class="col-sm-3 col-form-label">Purity * :
                            </label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="number" matInput PurityDecimal
                                        formControlName="purity" readonly
                                        class="text-right" />
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 border-end">
                        <div class="row mb-3">
                            <div class="col-sm-12">
                                <div class="form-check">
                                    <input class="form-check-input"
                                        type="checkbox" value
                                        id="flexCheckDefault"
                                        [disabled]="viewMode">
                                    <label class="form-check-label" id="ID026"
                                        for="flexCheckDefault">
                                        Repair Job
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label id="ID027" for="input"
                                class="col-sm-5 col-form-label">Del
                                Date : </label>
                            <div class="col-sm-7">
                                <div class="datepick">
                                    <!-- <input class="form-control flatpickr-input" type="text" placeholder="Select Date*"
                                        mwlFlatpickr dateFormat="d/m/y" formControlName="deldate"> -->
                                    <mat-form-field style="width: 100%"
                                        appearance="outline">
                                        <input matInput DateValidation
                                            (dateChange)="formatDate($event)"
                                            [matDatepicker]="deldate"
                                            formControlName="deldate"
                                            [readonly]="viewMode"
                                            placeholder="DD/MM/YYYY"
                                            class="text-right" />
                                        <mat-datepicker-toggle matSuffix
                                            [for]="deldate"></mat-datepicker-toggle>
                                        <mat-datepicker [disabled]="isSaved" [startAt]="currentDate"
                                            #deldate></mat-datepicker>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label id="ID028" for="input"
                                class="col-sm-5 col-form-label">Salesman * :
                            </label>
                            <div class="col-sm-7">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="salesman"
                                        maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,salesmanCodeData,'salesman')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'salesman')" />
                                    <master-search
                                        [MasterSearchData]="salesmanCodeData"
                                        class="masterSearch"
                                        #overlaysalesmanSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="salesmanCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label id="ID029" for="input"
                                class="col-sm-5 col-form-label">Stock Code :
                            </label>
                            <div class="col-sm-7">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="stockcode"
                                        maxlength="15"
                                        [readonly]="viewMode" />
                                </mat-form-field>
                                <!-- <master-search [MasterSearchData]="stockCodeData"
                                (newRowClick)="stockCodeSelected($event)"></master-search> -->
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label id=ID030 for="input"
                                class="col-sm-5 col-form-label">Currency :
                            </label>
                            <div class="col-sm-7">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="currency"
                                        maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,currencyMasterData,'currency')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'currency')" />
                                    <master-search
                                        [MasterSearchData]="currencyMasterData"
                                        class="masterSearch"
                                        #overlaycurrencySearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="currencyCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row align-items-center mb-2">
                            <label for="input" id="ID031"
                                class="col-sm-5 col-form-label">Loss Booking :
                            </label>
                            <div class="col-sm-7">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">

                                    <mat-select formControlName="lossbooking"
                                        [(ngModel)]="selectedValue"
                                        name="selectedValue"
                                        [disabled]="viewMode">
                                        <mat-option value="singleMetal">Single
                                            Metal</mat-option>
                                        <mat-option
                                            value="multipleMetal">Multiple
                                            Metal</mat-option>
                                        <mat-option
                                            value="highestWeight">Highest
                                            Weight</mat-option>
                                        <mat-option value="weightedAvg">Weighted
                                            Average</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <!-- <select class="form-select form-control bg-white"></select> -->
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="input" id="ID032"
                                class="col-sm-5 col-form-label">Main Metal :
                            </label>
                            <div class="col-sm-7">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="mainmetal"
                                        maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,mainmetalCodeData,'mainmetal')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'mainmetal')" />
                                    <master-search
                                        [MasterSearchData]="mainmetalCodeData"
                                        class="masterSearch"
                                        #overlaymainmetalSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="mainmetalCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label id="ID033" for="input"
                                class="col-sm-5 col-form-label">Time
                                : </label>
                            <div class="col-sm-7">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="time" maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,timeCodeData,'time')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'time')" />
                                    <master-search
                                        [MasterSearchData]="timeCodeData"
                                        class="masterSearch"
                                        #overlaytimeSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="timeCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label id="ID034" for="input"
                                class="col-sm-5 col-form-label">Range
                                : </label>
                            <div class="col-sm-7">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="range" maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,rangeCodeData,'range')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'range')" />
                                    <master-search
                                        [MasterSearchData]="rangeCodeData"
                                        class="masterSearch"
                                        #overlayrangeSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="rangeCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label id="ID035" for="input"
                                class="col-sm-5 col-form-label">Seq.Code *
                                : </label>
                            <div class="col-sm-7">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput
                                        formControlName="seqcode" maxlength="20"
                                        oninput="this.value = this.value.toUpperCase()"
                                        [readonly]="viewMode"
                                        (focusout)="validateLookupField($event,seqCodeData,'seqcode')"
                                        (input)="inputValidate($event)"
                                        (keydown)="lookupKeyPress($event,'seqcode')" />
                                    <master-search
                                        [MasterSearchData]="seqCodeData"
                                        class="masterSearch"
                                        #overlayseqcodeSearch
                                        *ngIf="viewMode == false"
                                        (newRowClick)="seqCodeSelected($event)"></master-search>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label id="ID036" for="input"
                                class="col-sm-3 col-form-label">Total Pcs*
                            </label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput maxlength="9"
                                        NumberOnly class="text-right"
                                        formControlName="JOB_PCS_TOTAL"
                                        [readonly]="viewMode" />
                                </mat-form-field>
                            </div>
                            <label id="ID037" for="input"
                                class="col-sm-3 col-form-label">Pending *
                            </label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput maxlength="9"
                                        NumberOnly class="text-right"
                                        formControlName="JOB_PCS_PENDING"
                                        [readonly]="viewMode" />
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label id="ID038" for="input"
                                class="col-sm-3 col-form-label">Parts * </label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput maxlength="9"
                                        NumberOnly class="text-right"
                                        formControlName="TOTAL_PCS"
                                        [readonly]="viewMode" />
                                </mat-form-field>
                            </div>
                            <label id="ID037" for="input"
                                class="col-sm-3 col-form-label">Pending *
                            </label>
                            <div class="col-sm-3">
                                <mat-form-field style="width: 100%;"
                                    appearance="outline">
                                    <input type="text" matInput maxlength="9"
                                        NumberOnly class="text-right"
                                        formControlName="PENDING_PCS"
                                        [readonly]="viewMode" />
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label id="ID039" for="input"
                                class="col-sm-4 col-form-label">Screw Field :
                            </label>
                            <div class="col-sm-5">
                                <mat-form-field appearance="outline">
                                    <input type="text" matInput
                                        formControlName="srewFiled"
                                        maxlength="20"
                                        [readonly]="viewMode" />
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="row mt-5 mb-2">
                            <div class="col-sm-12">
                                <!-- <textarea class="form-control" id="exampleFormControlTextarea1" rows="5"></textarea> -->
                                <div class="upload-btn-wrapper">
                                    <button class="btn btnnew border-dark">
                                        <!-- <img [src]="content.PICTURE_NAME" style="width:200px;height:185px" > -->
                                        <img src={{urls}}
                                            style="width:200px;height:185px">
                                        <button class="carousel-control-prev"
                                            type="button"
                                            data-bs-target="#carouselExampleControls"
                                            data-bs-slide="prev">
                                            <span
                                                class="carousel-control-prev-icon"
                                                aria-hidden="true"></span>
                                            <span id="ID040"
                                                class="visually-hidden">Previous</span>
                                        </button>
                                        <button class="carousel-control-next"
                                            type="button"
                                            data-bs-target="#carouselExampleControls"
                                            data-bs-slide="next">
                                            <span
                                                class="carousel-control-next-icon"
                                                aria-hidden="true"></span>
                                            <span class="visually-hidden"
                                                id="ID041">Next</span>
                                        </button>
                                    </button>
                               
                                <div class="p-2 bd-highlight">
                                    <div class="upload-btn">
                                        <button
                                            class="btn btnnew bgColourUpdate"
                                            id="ID015"> Image</button>
                                        <input type="file" name="uploadproduct"
                                            accept=".png, .jpg, .jpeg"
                                            #fileInput
                                            class="uploadproduct"
                                            (change)="onFileChanged($event)">
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>

                        <div class="m-3 row">
                            <button class="btn btn-primary rounded-pill my-2"
                                id="ID042"
                                (click)="openaddcomponent()">Components</button>
                            <button class="btn btn-primary rounded-pill my-2"
                                id="ID043"
                                (click)="openaddtransactiondetails()">Transactions</button>
                            <button class="btn btn-primary rounded-pill my-2"
                                id="ID044"
                                (click)="openaddstickerprint()">Sticker
                                Print</button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <dx-data-grid id="gridContainer"
                            [dataSource]="jobsalesorderdetailDJ"
                            [showBorders]="true"
                            [showColumnLines]="true" [showRowLines]="true"
                            [allowColumnResizing]="true" class="mt-3">
                            <!-- <dxo-editing [allowUpdating]="true"></dxo-editing> -->

                            <dxo-selection [selectAllMode]="allMode"
                                [showCheckBoxesMode]="checkBoxesMode"
                                mode="single"></dxo-selection>
                            <dxi-column dataField="SRNO" caption="SI NO">
                            </dxi-column>
                            <dxi-column dataField="JOB_NUMBER"
                                caption="Job Reference "
                                cellTemplate="job_referencetemp"></dxi-column>
                            <dxi-column dataField="PART_CODE"
                                caption="Part Code"
                                cellTemplate="part_codetemp"></dxi-column>
                            <dxi-column dataField="DESCRIPTION"
                                caption="Description"
                                cellTemplate="descriptiontemp"></dxi-column>
                            <dxi-column dataField="PCS" caption="Pcs"
                                cellTemplate="Pcstemp"></dxi-column>
                            <dxi-column dataField="METAL_COLOR"
                                caption="Metal Color"
                                cellTemplate="metal_colortemp"></dxi-column>
                            <dxi-column dataField="METAL_WT" caption="Metal Wt"
                                cellTemplate="metal_wttemp"></dxi-column>
                            <dxi-column dataField="STONE_WT" caption="Stone Wt"
                                cellTemplate="stone_wttemp"></dxi-column>
                            <dxi-column dataField="GROSS_WT" caption="Gross Wt"
                                cellTemplate="gross_wttemp"></dxi-column>

                            <div *dxTemplate="let data of 'job_referencetemp'">
                                <input type="text"
                                    (change)="descriptiontemp($event,data)"
                                    style="width: 100%;" readonly
                                    [value]="data.value" />
                            </div>

                            <div *dxTemplate="let data of 'part_codetemp'">
                                <input type="text"
                                    (change)="part_codetemp($event,data)"
                                    style="width: 100%;" readonly
                                    [value]="data.value" />
                            </div>

                            <div *dxTemplate="let data of 'descriptiontemp'">
                                <input type="text"
                                    (change)="descriptiontemp($event,data)"
                                    style="width: 100%;" readonly
                                    [value]="data.value" />
                            </div>

                            <div *dxTemplate="let data of 'Pcstemp'">
                                <input type="text"
                                    (change)="Pcstemp($event,data)"
                                    style="width: 100%;" readonly
                                    [value]="data.value" class="text-right" />
                            </div>

                            <div *dxTemplate="let data of 'metal_colortemp'">
                                <input type="text"
                                    (change)="metal_colortemp($event,data)"
                                    style="width: 100%;" readonly
                                    [value]="data.value" class="text-left" />
                            </div>

                            <div *dxTemplate="let data of 'metal_wttemp'">
                                <input type="text"
                                    (change)="metal_wttemp($event,data)"
                                    style="width: 100%;" readonly
                                    [value]="data.value" MetalDecimalInput
                                    class="text-right" />
                            </div>

                            <div *dxTemplate="let data of 'stone_wttemp'">
                                <input type="text"
                                    (change)="stone_wttemp($event,data)"
                                    style="width: 100%;" readonly
                                    [value]="data.value" MetalDecimalInput
                                    class="text-right" />
                            </div>

                            <div *dxTemplate="let data of 'gross_wttemp'">
                                <input type="text"
                                    (change)="gross_wttemp($event,data)"
                                    style="width: 100%;" readonly
                                    [value]="data.value" MetalDecimalInput
                                    class="text-right" />
                            </div>

                        </dx-data-grid>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>