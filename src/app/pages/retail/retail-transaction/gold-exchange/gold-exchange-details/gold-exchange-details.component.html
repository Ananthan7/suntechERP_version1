<div class="card-content border-bottom d-flex justify-content-between p-2">
    <h5 class="pos-modaltitle" id="modal-dia-metal">Gold Exchange Details</h5>
    <button type="button" class="btn btn-close close-btn" (click)="close()">
        <i class="feather icon-x close-icon"></i>
    </button>
</div>
<!-- modal header component -->
<modal-header (cancelClick)="close()" (saveClick)="formSubmit()"></modal-header>
<!-- content section -->
<div class="container-fluid pt-3">
    <form [formGroup]="goldExchangeDetailsForm">
        <div class="row mb-3">
            <label for="inputPassword" class="col-sm-12 col-form-label">Product Details</label>
        </div>
        <div class="row mb-3">
            <div class="col-md-1">
                <label for="inputPassword" class="col-sm-12 col-form-label">Stock Code</label>
            </div>
            <div class="col-md-1">
                <mat-form-field style="width: 100%;">
                    <input type="text" readonly matInput formControlName="stockCode" />
                </mat-form-field>
            </div>
            <div class="col-md-2">
                <mat-form-field style="width: 70%;">
                    <input type="text" [readonly]="viewOnly" matInput formControlName="stockType" />
                </mat-form-field>
                <master-search *ngIf="!viewOnly" [MasterSearchData]="stockCodeData"
                    (newRowClick)="stockCodeSelected($event)"></master-search>
            </div>
            <div class="col-md-2">
                <mat-checkbox class="example-margin" formControlName="fixMetalRate">
                    Outside Gold
                </mat-checkbox>
            </div>
            <div class="col-md-2" *ngIf="goldExchangeDetailsForm?.get('fixMetalRate')?.value">
                <mat-form-field style="width: 70%;">
                    <input type="text" [readonly]="viewOnly" matInput formControlName="goldType" />
                </mat-form-field>
                <master-search *ngIf="!viewOnly" [MasterSearchData]="outSideGoldCodeData"
                    (newRowClick)="outSideGoldSelected($event)"></master-search>
            </div>
            
        </div>
        <div class="row mb-3">
            <div class="col-md-1">
                <label for="inputPassword" class="col-sm-12 col-form-label">Description</label>
            </div>
            <div class="col-md-3">
                <mat-form-field style="width: 100%;">
                    <input type="text" matInput [readonly]="viewOnly" formControlName="stockCodeDescription" />
                </mat-form-field>

            </div>
            <div class="col-md-2">

            </div>
            <div class="col-md-2">
                <div class="row mb-3">
                    <label for="inputPassword" class="col-sm-5 col-form-label">Loc Code</label>
                    <div class="col-md-7">
                        <mat-form-field style="width: 70%;">
                            <input type="text" [readonly]="viewOnly" matInput formControlName="locCode" />
                        </mat-form-field>
                        <master-search *ngIf="!viewOnly" [MasterSearchData]="locCodeData"
                            (newRowClick)="locCodeSelected($event)"></master-search>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mb-3 mx-2">
            <div class="col-md-3 mx-2">
                <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            Quantity
                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Pieces</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number"  class="text-right" [min]="0" id="pieces" [readonly]="viewOnly"  matInput
                                     formControlName="pieces" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Gross Weight</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" id="grossWeight" (change)="changeGrossweight($event)" [readonly]="viewOnly" class="st_txt_right" matInput
                                    ThreeDecimalInput formControlName="grossWeight" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Stone Weight</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input class="st_txt_right" id="stoneWeight" type="text" (change)="changeStoneweight($event)" [readonly]="viewOnly"  matInput
                                MetalDecimalInput formControlName="stoneWeight" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Purity</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" (change)="changeStandardPurity($event)" readonly class="st_txt_right" matInput
                                PurityDecimal formControlName="purity" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Pure Weight</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" readonly class="st_txt_right" matInput
                                    ThreeDecimalInput formControlName="pureWeight" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Mud Weight</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" (change)="changeMudWeight($event)" [readonly]="viewOnly" matInput
                                    ThreeDecimalInput formControlName="mudWeight" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Net Weight</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" id="netWeight" class="st_txt_right" matInput ThreeDecimalInput
                                readonly formControlName="netWeight" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row ">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Chargable Weight</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" matInput ThreeDecimalInput
                                    readonly formControlName="chargableWeight" />
                            </mat-form-field>

                        </div>
                    </div>
                </div>
                <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            Wastage
                        </div>
                    </div>

                    <div class="row">
                        <label for="inputPassword" class="col-md-4 col-form-label text-center">%</label>
                        <label for="inputPassword" class="col-md-4 col-form-label  text-center">Quantity</label>
                        <label for="inputPassword" class="col-md-4 col-form-label  text-center">Amount</label>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" matInput [readonly]="viewOnly"
                                    formControlName="wastagePercent" />
                            </mat-form-field>

                        </div>
                        <div class="col-md-4">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" matInput ThreeDecimalInput
                                    [readonly]="viewOnly" formControlName="wastageQuantity" />
                            </mat-form-field>

                        </div>
                        <div class="col-md-4">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" AmountDecimalInput matInput
                                    [readonly]="viewOnly" formControlName="wastageAmount" />
                            </mat-form-field>

                        </div>
                    </div>
                </div>
                <!-- <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            Bag Details
                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Bag No:</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="text" [readonly]="viewOnly" matInput formControlName="bagNo" />
                            </mat-form-field>
                        </div>
                    </div>
                </div> -->
                <!-- <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            Stone & Purity Difference
                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Purity Difference</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 70%;">
                                <input type="number" class="st_txt_right" matInput ThreeDecimalInput
                                readonly formControlName="purityDiffer" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Stone Difference</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 70%;">
                                <input type="number" class="st_txt_right" matInput ThreeDecimalInput
                                    readonly formControlName="stoneDiffer" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Oz Wt</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" matInput ThreeDecimalInput
                                    [readonly]="viewOnly" formControlName="ozWeight" />
                            </mat-form-field>

                        </div>
                    </div>
                </div> -->
            </div>
            <div class="col-md-3 mx-2">
                <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            Making Amount
                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-4 col-form-label">Unit</label>
                        <div class="col-md-4">
                            <mat-form-field style="width: 100%;">
                                <mat-select  formControlName="unitCode">
                                    <mat-option value="gms">GMS</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="text-right" [min]="0" id="unitValue" [readonly]="viewOnly"  matInput
                                    formControlName="unitValue" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Rate</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" (change)="changeMakingRate($event)" AmountDecimalInput matInput
                                    [readonly]="viewOnly" formControlName="unitRate" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Amount</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" (change)="changeMakingAmount($event)" AmountDecimalInput matInput
                                    [readonly]="viewOnly" formControlName="unitAmount" />
                            </mat-form-field>

                        </div>
                    </div>
                </div>
                <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            Stone Amount
                        </div>
                    </div>

                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Rate</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" id="stoneRate" class="st_txt_right" (change)="changeStoneRate($event)" AmountDecimalInput matInput
                                    [readonly]="viewOnly" formControlName="stoneRate" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Amount</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" id="stoneAmount" class="st_txt_right" (change)="changeStoneAmount($event)" AmountDecimalInput matInput
                                    [readonly]="viewOnly" formControlName="stoneAmount" />
                            </mat-form-field>

                        </div>
                    </div>
                </div>
                <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            Metal Amount
                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Rate</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" (change)="changeMetalRate($event)" class="st_txt_right" matInput PurityDecimal
                                    [readonly]="viewOnly" formControlName="metalRate" />
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Amount</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" (change)="changeMetalAmount($event)" class="st_txt_right" matInput AmountDecimalInput
                                    [readonly]="viewOnly" formControlName="metalAmount" />
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            NET AMOUNT
                        </div>
                    </div>
                  
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">AMOUNT</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" matInput AmountDecimalInput
                                    readonly formControlName="netAmount" />
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <!-- <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            Wastage
                        </div>
                    </div>

                    <div class="row">
                        <label for="inputPassword" class="col-md-4 col-form-label text-center">%</label>
                        <label for="inputPassword" class="col-md-4 col-form-label  text-center">Quantity</label>
                        <label for="inputPassword" class="col-md-4 col-form-label  text-center">Amount</label>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" matInput [readonly]="viewOnly"
                                    formControlName="wastagePercent" />
                            </mat-form-field>

                        </div>
                        <div class="col-md-4">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" matInput ThreeDecimalInput
                                    [readonly]="viewOnly" formControlName="wastageQuantity" />
                            </mat-form-field>

                        </div>
                        <div class="col-md-4">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" AmountDecimalInput matInput
                                    [readonly]="viewOnly" formControlName="wastageAmount" />
                            </mat-form-field>

                        </div>
                    </div>
                </div>
                <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            Bag Details
                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Bag No:</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="text" [readonly]="viewOnly" matInput formControlName="bagNo" />
                            </mat-form-field>
                        </div>
                    </div>
                </div> -->
            </div>
            <div class="col-md-3 mx-2">
 <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            Stone & Purity Difference
                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Purity Difference</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 70%;">
                                <input type="number" class="st_txt_right" matInput ThreeDecimalInput
                                readonly formControlName="purityDiffer" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Stone Difference</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 70%;">
                                <input type="number" class="st_txt_right" matInput ThreeDecimalInput
                                    readonly formControlName="stoneDiffer" />
                            </mat-form-field>

                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Oz Wt</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" matInput ThreeDecimalInput
                                    [readonly]="viewOnly" formControlName="ozWeight" />
                            </mat-form-field>

                        </div>
                    </div>
                </div>

                <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            Bag Details
                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Bag No:</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="text" [readonly]="viewOnly" matInput formControlName="bagNo" />
                            </mat-form-field>
                        </div>
                    </div>
                </div>


                <!-- <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            Metal Values
                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Rate</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" (change)="changeMetalRate($event)" class="st_txt_right" matInput PurityDecimal
                                    [readonly]="viewOnly" formControlName="metalRate" />
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">Amount</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" (change)="changeMetalAmount($event)" class="st_txt_right" matInput AmountDecimalInput
                                    [readonly]="viewOnly" formControlName="metalAmount" />
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="row mb-3 border">
                    <div class="col-md-12 px-0">
                        <div class="bg_qty text-center">
                            NET VALUES
                        </div>
                    </div>
                  
                    <div class="row">
                        <label for="inputPassword" class="col-sm-6 col-form-label">AMOUNT</label>
                        <div class="col-md-6">
                            <mat-form-field style="width: 100%;">
                                <input type="number" class="st_txt_right" matInput AmountDecimalInput
                                    [readonly]="viewOnly" formControlName="netAmount" />
                            </mat-form-field>
                        </div>
                    </div>
                </div> -->
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="row">
                        <label for="inputPassword" class="col-sm-2 col-form-label">Remarks</label>
                        <div class="col-md-10">
                            <mat-form-field style="width: 100%;">
                                <input type="text" [readonly]="viewOnly" matInput formControlName="remarks" />
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>