<div>
  <!-- header section starts -->
  <div class="card-content border-bottom d-flex justify-content-between p-2">
    <h5 class="pos-modaltitle" id="modal-dia-metal">Sub-Ledger Master</h5>
    <button type="button" class="btn btn-close close-btn" (click)="close()">
      <i class="feather icon-x close-icon"></i>
    </button>
  </div>
  <!-- modal header component -->
  <modal-header [isViewSave]="!viewMode" [isViewCancel]="!viewMode" [isViewMore]="!viewMode" (saveClick)="formSubmit()"
    (cancelClick)="close()" [isViewDelete]="false" (deleteClick)="deleteRecord()"></modal-header>
  <!-- content section -->
  <div class="row p-4">
    <div class="col-md-12">
      <form [formGroup]="SubLedgerMasterForm">
        <mat-tab-group>
          <mat-tab label="Sub-Ledger Details">
            <div class="row py-2">
              <div class="col-md-10">
                <div class="row">
                  <div class="col-md-12">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" role="switch" id="Party" />
                      <label class="form-check-label" for="Party">Party</label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <label for="inputPassword" id="ID001" class="col-sm-2 col-form-label">
                    Sub-Ledger Code :</label>
                  <div class="col-sm-2">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <input [readonly]="viewMode || editMode" type="text" #codeInput maxlength="5" matInput
                        formControlName="code" UpperCaseDirective autocomplete="off" required />
                    </mat-form-field>
                  </div>
                  <div class="col-sm-4">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <input [readonly]="viewMode" type="text" #codeInput matInput maxlength="50"
                        formControlName="description" UpperCaseDirective autocomplete="off" />
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-checkbox id="ID022" formControlName="active" class="example-margin">
                      Active
                    </mat-checkbox>
                  </div>
                </div>
                <div class="row">
                  <label for="inputPassword" id="ID002" class="col-sm-2 col-form-label">Country :
                  </label>
                  <div class="col-sm-2">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <input [readonly]="viewMode" type="text" matInput formControlName="country" UpperCaseDirective
                        (focusout)="
                          SPvalidateLookupFieldModified(
                            $event,
                            PRCountryCodeData,
                            ['country'],
                            false,
                            ['CODE']
                          )
                        " (keydown)="
                          onKeyDown($event, ['country'], PRCountryCodeData)
                        " />
                      <master-search *ngIf="!viewMode" class="masterSearch" [MasterSearchData]="PRCountryCodeData"
                        #overlayCountrySearch (newRowClick)="CountryCodeDataSelected($event)">
                      </master-search>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <label for="inputPassword" id="ID002" class="col-sm-2 col-form-label">State :
                  </label>
                  <div class="col-sm-2">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <input [readonly]="viewMode" type="text" matInput formControlName="state" UpperCaseDirective
                        (focusout)="
                          SPvalidateLookupFieldModified(
                            $event,
                            PRStateCodeData,
                            ['state'],
                            false,
                            ['CODE']
                          )
                        " (keydown)="
                          onKeyDown($event, ['state'], PRStateCodeData)
                        " />
                      <master-search *ngIf="!viewMode" class="masterSearch" #overlayStateSearch
                        [MasterSearchData]="PRStateCodeData" (newRowClick)="StateCodeDataSelected($event)">
                      </master-search>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <label for="inputPassword" id="ID002" class="col-sm-2 col-form-label">City :
                  </label>
                  <div class="col-sm-2">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <input [readonly]="viewMode" type="text" matInput formControlName="city" UpperCaseDirective
                        (focusout)="
                          SPvalidateLookupFieldModified(
                            $event,
                            CityCodeData,
                            ['city'],
                            false,
                            ['CODE']
                          )
                        " (keydown)="onKeyDown($event, ['city'], CityCodeData)" />
                      <master-search *ngIf="!viewMode" class="masterSearch" #overlayCitySearch
                        [MasterSearchData]="CityCodeData" (newRowClick)="CityCodeDataSelected($event)">
                      </master-search>
                    </mat-form-field>
                  </div>
                </div>

                <div class="row mb-3">
                  <label for="inputPassword" id="ID002" class="col-sm-2 col-form-label">Business Address :
                  </label>
                  <div class="col-sm-4">
                    <mat-form-field style="width: 90%" appearance="outline">
                      <textarea [readonly]="viewMode" matInput id="inputAddress" formControlName="address"
                        rows="4"></textarea>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row mb-1">
                  <label for="inputPassword" id="ID001" class="col-sm-2 col-form-label">
                    Created By :</label>
                  <div class="col-sm-2">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <input [readonly]="viewMode" type="text" #codeInput matInput formControlName="created_by"
                        UpperCaseDirective autocomplete="off" />
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </div>
          </mat-tab>
          <mat-tab label="Account Details">
            <div class="row">
              <div class="col-md-8">
                <div class="check_radio_btn">
                  <div class="col-md-12">
                    <menu-buttons *ngIf="!viewMode" [viewAddBtn]="true" [viewDeleteBtn]="true" [viewImportBtn]="false"
                      (addClick)="addTableData()" (deleteClick)="removedata()">
                    </menu-buttons>

                    <dx-data-grid id="gridContainer" [dataSource]="tableData" [showBorders]="true"
                      [showColumnLines]="true" [showRowLines]="true" [allowColumnResizing]="true" keyExpr="SRNO"
                      class="mt-3" (onSelectionChanged)="onSelectionChanged($event)">
                      <dxo-selection mode="single"></dxo-selection>
                      <dxi-column dataField="SRNO" caption="SN" class="tab">
                      </dxi-column>
                      <dxi-column dataField="SL_ACCODE" caption="A/C Code" cellTemplate="sl_accode">
                      </dxi-column>
                      <dxi-column dataField="SL_ACCODE_DESC" caption="A/C Description" cellTemplate="sl_accode_des">
                      </dxi-column>
                      <div>
                        <div *dxTemplate="let data of 'sl_accode'">
                          <input [readonly]="viewMode" class="form-control" type="text" id="description"
                            [value]="data.value" (change)="getAccode($event, data)" />
                        </div>

                        <div *dxTemplate="let data of 'sl_accode_des'">
                          <input [readonly]="viewMode" class="form-control" type="text" [value]="data.value"
                            (change)="getAccodeDec($event, data)" />
                        </div>
                      </div>
                    </dx-data-grid>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="row mb-1">
                  <label for="inputPassword" id="ID001" class="col-sm-12 col-form-label">
                    Allocated Account Prospects</label>
                  <div class="col-sm-12">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <input [readonly]="viewMode" type="text" #codeInput maxlength="5" matInput
                        formControlName="allocated_account" UpperCaseDirective autocomplete="off" />
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </div>
          </mat-tab>
          <mat-tab label="Contact Details">
            <div class="col-md-12">
              <div class="check_radio_btn">
                <div class="col-md-12">
                  <menu-buttons *ngIf="!viewMode" [viewAddBtn]="true" [viewDeleteBtn]="true" [viewImportBtn]="false"
                    (addClick)="openConatactMaster()" (deleteClick)="removeContactdata()">
                  </menu-buttons>

                  <dx-data-grid id="gridContainer" [dataSource]="ContacttableData" [showBorders]="true"
                    [showColumnLines]="true" [showRowLines]="true" [allowColumnResizing]="true" class="mt-3"
                    keyExpr="INCOME" (onSelectionChanged)="onContactSelectionChanged($event)">
                    <dxo-selection mode="single"></dxo-selection>
                    <dxi-column dataField="CUSTOMER_NAME" caption="Name" >
                    </dxi-column>
                    <dxi-column dataField="DESIGNATION" caption="Designation" >
                    </dxi-column>
                    <dxi-column dataField="EMAIL" caption="Email">
                    </dxi-column>
                    <dxi-column dataField="MOBILE" caption="Mobile" >
                    </dxi-column>

                    <div *dxTemplate="let data of 'email'">
                      <input [readonly]="viewMode" class="form-control" type="text" formControlName="email"
                        [value]="data.value" (change)="getEmail($event, data)" />
                    </div>

                    <div *dxTemplate="let data of 'mobile'">
                      <input [readonly]="viewMode" class="form-control" type="number" formControlName="mobile"
                        [value]="data.value" (change)="getMobile($event, data)" />
                    </div>
                    <div *dxTemplate="let data of 'name'">
                      <input [readonly]="viewMode" class="form-control" type="text" formControlName="name"
                        [value]="data.value" (change)="getName($event, data)" />
                    </div>
                    <div *dxTemplate="let data of 'designation'">
                      <input [readonly]="viewMode" class="form-control" type="text" formControlName="designation"
                        [value]="data.value" (change)="getDesignation($event, data)" />
                    </div>
                  </dx-data-grid>
                </div>
              </div>
            </div>
          </mat-tab>
          <mat-tab label="KYC Documents"> </mat-tab>
        </mat-tab-group>
      </form>
    </div>
  </div>
</div>