<div>
  <!-- header section starts -->
  <div class="card-content border-bottom d-flex justify-content-between p-2">
    <h5 class="pos-modaltitle" id="modal-dia-metal">Deduction Master</h5>
    <button type="button" class="btn btn-close close-btn" (click)="close()">
      <i class="feather icon-x close-icon"></i>
    </button>
  </div>
  <!-- modal header component -->
  <modal-header
    *ngIf="flag !== 'VIEW'"
    (saveClick)="deductionMasterFormSubmit()"
    (cancelClick)="close()"
    (deleteClick)="DeleteController()"
  ></modal-header>
  <!-- content section -->
  <div class="p-4">
    <form [formGroup]="deductionMasterForm">
      <mat-tab-group>
        <mat-tab label="General">
          <div class="row py-2">
            <div class="col-md-10">
              <div class="row mb-1">
                <label
                  for="inputPassword"
                  id="ID001"
                  class="col-sm-2 col-form-label"
                >
                  Code :</label
                >
                <div class="col-sm-3">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      #codeInput
                      matInput
                      formControlName="code"
                      UpperCaseDirective
                      autocomplete="off"
                    />
                  </mat-form-field>
                </div>
              </div>
              <div class="row mb-1">
                <label
                  for="inputPassword"
                  id="ID001"
                  class="col-sm-2 col-form-label"
                >
                  Description :</label
                >
                <div class="col-sm-6">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      #codeInput
                      matInput
                      formControlName="description"
                      UpperCaseDirective
                      autocomplete="off"
                    />
                  </mat-form-field>
                </div>
                <div class="col-sm-4">
                  <mat-checkbox
                    [disabled]="flag === 'VIEW'"
                    formControlName="considerForLeaveSalary"
                    (change)="boxChecker($event, 'considerForLeaveSalary')"
                    class="example-margin"
                  >
                    Consider for Leave Salary</mat-checkbox
                  >
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-2 col-form-label"
                  >GL Code :
                </label>
                <div class="col-sm-3">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          countryCodeData,
                          ['glCode', 'glCodeDesc'],
                          false,
                          ['CODE', 'DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="glCode"
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="countryCodeData"
                      (newRowClick)="
                        lookupSelect(
                          $event,
                          ['glCode', 'glCodeDesc'],
                          ['CODE', 'DESCRIPTION']
                        )
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
                <div class="col-sm-3">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="glCodeDesc"
                      UpperCaseDirective
                    />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-2 col-form-label"
                  >Country Code :
                </label>
                <div class="col-sm-3">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          countryCodeData,
                          ['countryCode', 'countryDesc'],
                          false,
                          ['CODE', 'DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="countryCode"
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="countryCodeData"
                      (newRowClick)="
                        lookupSelect(
                          $event,
                          ['countryCode', 'countryDesc'],
                          ['CODE', 'DESCRIPTION']
                        )
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
                <div class="col-sm-3">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="countryDesc"
                      UpperCaseDirective
                    />
                  </mat-form-field>
                </div>
              </div>
            </div>
            <div class="col-md-5">
              <div class="boxed-label">
                <h6>Calculation Method</h6>
              </div>
              <div class="your-box-container">
                <div class="row">
                  <div class="col-md-6">
                    <mat-radio-group
                      [disabled]="flag == 'VIEW'"
                      aria-label="Select an option"
                      formControlName="method"
                      class="d-flex flex-column"
                    >
                      <mat-radio-button value="F" class="mx-2"
                        ><b>Fixed</b></mat-radio-button
                      >
                      <mat-radio-button value="P" class="mx-2"
                        ><b>Percentage</b></mat-radio-button
                      >
                    </mat-radio-group>
                  </div>
                  <div class="col-md-6">
                    <div class="row mb-1">
                      <label
                        for="inputPassword"
                        id="ID001"
                        class="col-sm-4 col-form-label"
                      >
                        Value</label
                      >
                      <div class="col-sm-8">
                        <mat-form-field
                          style="width: 100%"
                          appearance="outline"
                        >
                          <input
                            [readonly]="flag == 'VIEW'"
                            type="text"
                            matInput
                            style="text-align: right"
                            AmountDecimalInput
                            formControlName="value"
                            autocomplete="off"
                          />
                        </mat-form-field>
                      </div>
                    </div>
                    <div>
                      <mat-checkbox
                        [disabled]="flag === 'VIEW'"
                        formControlName="avoidFraction"
                        (change)="boxChecker($event, 'avoidFraction')"
                        class="example-margin"
                      >
                        Aviod Fraction</mat-checkbox
                      >
                    </div>
                  </div>
                </div>
              </div>
              <div class="row my-2">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-3 col-form-label"
                  >Report Heading :
                </label>
                <div class="col-sm-7">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          countryCodeData,
                          ['reportHeadingCode'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="reportHeadingCode"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="countryCodeData"
                      (newRowClick)="
                        lookupSelect(
                          $event,
                          ['reportHeadingCode', 'reportHeadingDesc'],
                          ['CODE', 'DESCRIPTION']
                        )
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
            </div>
            <div class="col-md-5">
              <div class="row">
                <label for="inputPassword" class="col-sm-3 col-form-label"
                  >Calculation Basis :</label
                >
                <div class="col-md-9">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <mat-select
                      [disabled]="flag == 'VIEW'"
                      formControlName="calculationBasis"
                    >
                      <mat-option
                        *ngFor="let data of calculationBasis"
                        [value]="data.value"
                        >{{ data.field }}</mat-option
                      >
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <fieldset class="custom-fieldset">
                    <legend class="custom-legend">Period</legend>
                    <mat-radio-group
                      [disabled]="flag == 'VIEW'"
                      aria-label="Select an option"
                      formControlName="period"
                      (change)="periodController($event)"
                    >
                      <mat-radio-button value="M" id="ID012" class="mx-2"
                        >Monthly</mat-radio-button
                      >
                      <mat-radio-button value="Y" id="ID013" class="mx-2"
                        >Yearly</mat-radio-button
                      >
                    </mat-radio-group>
                  </fieldset>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="User Defined">
          <div class="row py-2">
            <div class="col-md-4">
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 1
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined1'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined1"
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined1', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 2
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined2'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined2"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined2', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 3
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined3'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined3"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined3', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 4
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined4'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined4"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined4', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 5
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined5'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined5"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined5', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 6
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined6'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined6"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined6', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 7
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined7'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined7"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined7', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 8
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined8'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined8"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined8', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 9
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined9'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined9"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined9', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 10
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined10'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined10"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined10', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 11
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined11'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined11"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined11', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 12
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined12'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined12"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined12', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 13
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined13'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined13"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined13', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 14
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined14'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined14"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined14', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <label
                  for="inputPassword"
                  id="ID002"
                  class="col-sm-4 col-form-label"
                  >User Defined 15
                </label>
                <div class="col-sm-8">
                  <mat-form-field style="width: 100%" appearance="outline">
                    <input
                      (focusout)="
                        SPvalidateLookupFieldModified(
                          $event,
                          userDefinedData,
                          ['userDefined15'],
                          false,
                          ['DESCRIPTION'],
                          false
                        )
                      "
                      [readonly]="flag == 'VIEW'"
                      type="text"
                      matInput
                      formControlName="userDefined15"
                      UpperCaseDirective
                    />
                    <master-search
                      *ngIf="flag != 'VIEW'"
                      class="masterSearch"
                      [MasterSearchData]="userDefinedData"
                      (newRowClick)="
                        lookupSelect($event, 'userDefined15', 'DESCRIPTION')
                      "
                    >
                    </master-search>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
    </form>
  </div>
</div>
