<!-- header section starts -->
<div class="card-content border-bottom d-flex justify-content-between p-2">
  <h5 class="pos-modaltitle" id="modal-dia-metal">Additional Master</h5>
  <button type="button" class="btn btn-close close-btn" (click)="close()">
    <i class="feather icon-x close-icon"></i>
  </button>
</div>

<!-- modal header component -->
<modal-header
  [isViewSave]="!viewMode"
  [isViewCancel]="!viewMode"
  [isViewMore]="!viewMode"
  [isViewDelete]="false"
  (saveClick)="formSave()"
  (cancelClick)="close()"
  (deleteClick)="deleteMaster()"
></modal-header>

<!-- content section -->
<div class="container-fluid pt-3">
  <form [formGroup]="costAndPriceTypeMainForm">
    <div class="row mt-2">
      <div class="col-md-12">
        <div class="row">
          <div class="col-md-6">
            <div class="row mb-1">
              <label for="code" class="col-sm-2 col-form-label" id="ID029"
                >Code</label
              >
              <div class="col-md-3">
                <mat-form-field style="width: 100%" appearance="outline">
                  <input
                    [readonly]="viewMode || editMode"
                    matInput="text"
                    formControlName="code"
                    maxlength="5"
                  />
                </mat-form-field>
              </div>
            </div>

            <div class="row mb-1">
              <label
                for="description"
                class="col-sm-2 col-form-label"
                id="ID029"
                >Description</label
              >
              <div class="col-md-10">
                <mat-form-field style="width: 100%" appearance="outline">
                  <input
                    [readonly]="viewMode"
                    matInput="text"
                    maxlength="50"
                    formControlName="description"
                  />
                </mat-form-field>
              </div>
            </div>

            <div class="row mb-1">
              <label
                for="description"
                class="col-sm-2 col-form-label"
                id="ID029"
                >Type Code</label
              >
              <div class="col-md-3">
                <mat-form-field style="width: 100%" appearance="outline">
                  <input
                    [readonly]="viewMode"
                    matInput="text"
                    formControlName="type_code"
                    (keydown)="onKeyDown($event, ['type_code'], designCode)"
                    (focusout)="
                      SPvalidateLookupFieldModified(
                        $event,
                        designCode,
                        ['type_code'],
                        false,
                        ['CODE']
                      )
                    "
                  />
                  <master-search
                    *ngIf="flag !== 'VIEW'"
                    #typeCode
                    [MasterSearchData]="designCode"
                    class="masterSearch"
                    (newRowClick)="typeCodeSelected($event, 'CODE')"
                  ></master-search>
                </mat-form-field>
              </div>

              <div class="col-md-2"></div>

              <div class="col-md-5 pt-2">
                <mat-checkbox formControlName="include_for_tax" id="ID060"
                  >Include For Tax</mat-checkbox
                >
              </div>
            </div>

            <div class="row mb-1">
              <label
                for="description"
                class="col-sm-2 col-form-label"
                id="ID029"
                >Calculated On</label
              >
              <div class="col-md-3">
                <mat-form-field style="width: 100%" appearance="outline">
                  <mat-select
                    formControlName="calculated_type"
                    (selectionChange)="onTypeCode($event)"
                  >
                    <mat-option
                      *ngFor="let data of calculatedValue"
                      [value]="data.SRNO"
                    >
                      {{ data.ENGLISH }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

              <div class="col-md-2">
                <mat-form-field style="width: 100%" appearance="outline">
                  <input
                    [readonly]="viewMode"
                    matInput="text"
                    formControlName="calculated_code"
                    class="text-right"
                    FourDecimalInput
                  />
                </mat-form-field>
              </div>

              <label
                for="description"
                class="col-sm-2 col-form-label"
                id="ID029"
                >Add Category</label
              >

              <div class="col-md-3">
                <mat-form-field style="width: 100%" appearance="outline">
                  <mat-select
                    formControlName="add_category"
                    (selectionChange)="onCategoryCode($event)"
                  >
                    <mat-option
                      *ngFor="let data of categoryValue"
                      [value]="data.SRNO"
                    >
                      {{ data.ENGLISH }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>

            <div class="row mb-1">
              <label
                for="description"
                class="col-sm-2 col-form-label"
                id="ID029"
                >Transactions</label
              >
              <div class="col-md-3">
                <mat-form-field style="width: 100%" appearance="outline">
                  <mat-select
                    formControlName="transaction_type"
                    (selectionChange)="onTransCode($event)"
                  >
                    <mat-option
                      *ngFor="let data of transcationValue"
                      [value]="data.SRNO"
                    >
                      {{ data.ENGLISH }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

              <div class="col-md-2">
                <mat-form-field style="width: 100%" appearance="outline">
                  <mat-select formControlName="transaction_code">
                    <mat-option value="p"> + </mat-option>
                    <mat-option value="m"> - </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

              <div class="col-md-5 pt-2">
                <mat-checkbox
                  formControlName="include_in_sales_analysis"
                  id="ID061"
                  >Include In Sales Analysis
                </mat-checkbox>
              </div>
            </div>

            <div class="row mb-1">
              <label
                for="description"
                class="col-sm-2 col-form-label"
                id="ID029"
                >Debit</label
              >
              <div class="col-md-3">
                <mat-form-field style="width: 100%" appearance="outline">
                  <mat-select formControlName="debit_type">
                    <mat-option
                      *ngFor="let data of debitValue"
                      [value]="data.ENGLISH"
                    >
                      {{ data.ENGLISH }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

              <div class="col-md-2">
                <mat-form-field style="width: 100%" appearance="outline">
                  <input
                    [readonly]="viewMode"
                    matInput="text"
                    formControlName="debit_code"
                    (keydown)="onKeyDown($event, ['debit_code'], debitcode)"
                    (focusout)="
                      SPvalidateLookupFieldModified(
                        $event,
                        debitcode,
                        ['debit_code'],
                        false,
                        ['ACCODE']
                      )
                    "
                  />
                  <master-search
                    *ngIf="flag !== 'VIEW'"
                    #debitCode
                    [MasterSearchData]="debitcode"
                    class="masterSearch"
                    (newRowClick)="lookupCodeSelected($event, 'ACCODE')"
                  ></master-search>
                </mat-form-field>
              </div>

              <div class="col-md-5">
                <mat-form-field style="width: 100%" appearance="outline">
                  <input
                    [readonly]="viewMode"
                    matInput="text"
                    formControlName="debit_description"
                  />
                </mat-form-field>
              </div>
            </div>

            <div class="row mb-1">
              <label
                for="description"
                class="col-sm-2 col-form-label"
                id="ID029"
                >Crdit</label
              >
              <div class="col-md-3">
                <mat-form-field style="width: 100%" appearance="outline">
                  <mat-select formControlName="credit_type">
                    <mat-option
                      *ngFor="let data of creditValue"
                      [value]="data.ENGLISH"
                    >
                      {{ data.ENGLISH }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

              <div class="col-md-2">
                <mat-form-field style="width: 100%" appearance="outline">
                  <input
                    [readonly]="viewMode"
                    matInput="text"
                    formControlName="credit_code"
                    (keydown)="onKeyDown($event, ['credit_code'], creditcode)"
                    (focusout)="
                      SPvalidateLookupFieldModified(
                        $event,
                        creditcode,
                        ['credit_code'],
                        false,
                        ['ACCODE']
                      )
                    "
                  />
                  <master-search
                    *ngIf="flag !== 'VIEW'"
                    #creditCode
                    [MasterSearchData]="creditcode"
                    class="masterSearch"
                    (newRowClick)="creditCodeSelected($event, 'ACCODE')"
                  ></master-search>
                </mat-form-field>
              </div>

              <div class="col-md-5">
                <mat-form-field style="width: 100%" appearance="outline">
                  <input
                    [readonly]="viewMode"
                    matInput="text"
                    formControlName="credit_description"
                  />
                </mat-form-field>
              </div>
            </div>

            <div class="row mb-1">
              <label
                for="description"
                class="col-sm-2 col-form-label"
                id="ID029"
                >Narration</label
              >
              <div class="col-md-5">
                <mat-form-field style="width: 100%" appearance="outline">
                  <mat-select
                    formControlName="narration"
                    (selectionChange)="onNarrationChange($event)"
                  >
                    <mat-option
                      *ngFor="let data of narrationValue; let i = index"
                      [value]="data.SRNO"
                    >
                      {{ data.ENGLISH }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

              <div class="col-md-5 pt-1">
                <button
                  type="button"
                  class="col-md-12 p-4 mb-4 btn btn-primary text-center"
                  [disabled]="viewMode || editMode"
                  (click)="openAdditionalAmount()"
                >
                  Auto Additional Amount
                </button>
              </div>
            </div>

            <div class="row mb-1">
              <div class="col-md-4">
                <fieldset class="custom-fieldset">
                  <legend class="custom-legend">VAT Type</legend>
                  <mat-radio-group
                    aria-label="Select an option"
                    formControlName="vat_type"
                  >
                    <mat-radio-button value="0" id="ID012" class="mx-2"
                      ><b>Direct</b></mat-radio-button
                    >
                    <mat-radio-button value="1" id="ID013" class="mx-2"
                      ><b>Rcm</b></mat-radio-button
                    >
                  </mat-radio-group>
                </fieldset>
              </div>
            </div>

            <!-- <div class="row mb-1">
              <label for="party" class="col-sm-2 col-form-label" id="ID029"
                >Party</label
              >
              <div class="col-md-4">
                <mat-form-field style="width: 100%" appearance="outline">
                  <input matInput="text" formControlName="party" />
                </mat-form-field>
              </div>
            </div>

            <div class="row mb-1">
              <label for="division" class="col-sm-2 col-form-label" id="ID029"
                >Division</label
              >
              <div class="col-md-4">
                <mat-form-field style="width: 100%" appearance="outline">
                  <input matInput="text" formControlName="division" />
                </mat-form-field>
              </div>
            </div>

            <div class="row mb-1">
              <div class="col-md-6">
                <mat-checkbox formControlName="applyPriceValue" id="ID060"
                  >Apply Price Value</mat-checkbox
                >
              </div>

              <div class="col-md-6">
                <mat-checkbox formControlName="forceMaking" id="ID060"
                  >Force Making Charges On Net. Wt.</mat-checkbox
                >
              </div>
            </div> -->
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
